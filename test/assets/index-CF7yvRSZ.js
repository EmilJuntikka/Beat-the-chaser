(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Mc={exports:{}},zo={},Oc={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function Hy(){if(ep)return Te;ep=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function U(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,G={};function $(D,b,le){this.props=D,this.context=b,this.refs=G,this.updater=le||j}$.prototype.isReactComponent={},$.prototype.setState=function(D,b){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,b,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function de(){}de.prototype=$.prototype;function ge(D,b,le){this.props=D,this.context=b,this.refs=G,this.updater=le||j}var ve=ge.prototype=new de;ve.constructor=ge,Y(ve,$.prototype),ve.isPureReactComponent=!0;var Se=Array.isArray,Je=Object.prototype.hasOwnProperty,Ne={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(D,b,le){var Ee,we={},Ce=null,Le=null;if(b!=null)for(Ee in b.ref!==void 0&&(Le=b.ref),b.key!==void 0&&(Ce=""+b.key),b)Je.call(b,Ee)&&!V.hasOwnProperty(Ee)&&(we[Ee]=b[Ee]);var Me=arguments.length-2;if(Me===1)we.children=le;else if(1<Me){for(var je=Array(Me),mt=0;mt<Me;mt++)je[mt]=arguments[mt+2];we.children=je}if(D&&D.defaultProps)for(Ee in Me=D.defaultProps,Me)we[Ee]===void 0&&(we[Ee]=Me[Ee]);return{$$typeof:i,type:D,key:Ce,ref:Le,props:we,_owner:Ne.current}}function A(D,b){return{$$typeof:i,type:D.type,key:b,ref:D.ref,props:D.props,_owner:D._owner}}function k(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function N(D){var b={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return b[le]})}var x=/\/+/g;function S(D,b){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):b.toString(36)}function Ze(D,b,le,Ee,we){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var Le=!1;if(D===null)Le=!0;else switch(Ce){case"string":case"number":Le=!0;break;case"object":switch(D.$$typeof){case i:case e:Le=!0}}if(Le)return Le=D,we=we(Le),D=Ee===""?"."+S(Le,0):Ee,Se(we)?(le="",D!=null&&(le=D.replace(x,"$&/")+"/"),Ze(we,b,le,"",function(mt){return mt})):we!=null&&(k(we)&&(we=A(we,le+(!we.key||Le&&Le.key===we.key?"":(""+we.key).replace(x,"$&/")+"/")+D)),b.push(we)),1;if(Le=0,Ee=Ee===""?".":Ee+":",Se(D))for(var Me=0;Me<D.length;Me++){Ce=D[Me];var je=Ee+S(Ce,Me);Le+=Ze(Ce,b,le,je,we)}else if(je=U(D),typeof je=="function")for(D=je.call(D),Me=0;!(Ce=D.next()).done;)Ce=Ce.value,je=Ee+S(Ce,Me++),Le+=Ze(Ce,b,le,je,we);else if(Ce==="object")throw b=String(D),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return Le}function Pt(D,b,le){if(D==null)return D;var Ee=[],we=0;return Ze(D,Ee,"","",function(Ce){return b.call(le,Ce,we++)}),Ee}function kt(D){if(D._status===-1){var b=D._result;b=b(),b.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=b)}if(D._status===1)return D._result.default;throw D._result}var Ue={current:null},J={transition:null},ce={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ne};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:Pt,forEach:function(D,b,le){Pt(D,function(){b.apply(this,arguments)},le)},count:function(D){var b=0;return Pt(D,function(){b++}),b},toArray:function(D){return Pt(D,function(b){return b})||[]},only:function(D){if(!k(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Te.Component=$,Te.Fragment=n,Te.Profiler=a,Te.PureComponent=ge,Te.StrictMode=s,Te.Suspense=y,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Te.act=ee,Te.cloneElement=function(D,b,le){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Ee=Y({},D.props),we=D.key,Ce=D.ref,Le=D._owner;if(b!=null){if(b.ref!==void 0&&(Ce=b.ref,Le=Ne.current),b.key!==void 0&&(we=""+b.key),D.type&&D.type.defaultProps)var Me=D.type.defaultProps;for(je in b)Je.call(b,je)&&!V.hasOwnProperty(je)&&(Ee[je]=b[je]===void 0&&Me!==void 0?Me[je]:b[je])}var je=arguments.length-2;if(je===1)Ee.children=le;else if(1<je){Me=Array(je);for(var mt=0;mt<je;mt++)Me[mt]=arguments[mt+2];Ee.children=Me}return{$$typeof:i,type:D.type,key:we,ref:Ce,props:Ee,_owner:Le}},Te.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Te.createElement=I,Te.createFactory=function(D){var b=I.bind(null,D);return b.type=D,b},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:m,render:D}},Te.isValidElement=k,Te.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:kt}},Te.memo=function(D,b){return{$$typeof:E,type:D,compare:b===void 0?null:b}},Te.startTransition=function(D){var b=J.transition;J.transition={};try{D()}finally{J.transition=b}},Te.unstable_act=ee,Te.useCallback=function(D,b){return Ue.current.useCallback(D,b)},Te.useContext=function(D){return Ue.current.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D){return Ue.current.useDeferredValue(D)},Te.useEffect=function(D,b){return Ue.current.useEffect(D,b)},Te.useId=function(){return Ue.current.useId()},Te.useImperativeHandle=function(D,b,le){return Ue.current.useImperativeHandle(D,b,le)},Te.useInsertionEffect=function(D,b){return Ue.current.useInsertionEffect(D,b)},Te.useLayoutEffect=function(D,b){return Ue.current.useLayoutEffect(D,b)},Te.useMemo=function(D,b){return Ue.current.useMemo(D,b)},Te.useReducer=function(D,b,le){return Ue.current.useReducer(D,b,le)},Te.useRef=function(D){return Ue.current.useRef(D)},Te.useState=function(D){return Ue.current.useState(D)},Te.useSyncExternalStore=function(D,b,le){return Ue.current.useSyncExternalStore(D,b,le)},Te.useTransition=function(){return Ue.current.useTransition()},Te.version="18.3.1",Te}var tp;function mh(){return tp||(tp=1,Oc.exports=Hy()),Oc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function Qy(){if(np)return zo;np=1;var i=mh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,E){var T,C={},U=null,j=null;E!==void 0&&(U=""+E),y.key!==void 0&&(U=""+y.key),y.ref!==void 0&&(j=y.ref);for(T in y)s.call(y,T)&&!c.hasOwnProperty(T)&&(C[T]=y[T]);if(m&&m.defaultProps)for(T in y=m.defaultProps,y)C[T]===void 0&&(C[T]=y[T]);return{$$typeof:e,type:m,key:U,ref:j,props:C,_owner:a.current}}return zo.Fragment=n,zo.jsx=f,zo.jsxs=f,zo}var rp;function Wy(){return rp||(rp=1,Mc.exports=Qy()),Mc.exports}var ae=Wy(),nt=mh(),Il={},Fc={exports:{}},Gt={},Uc={exports:{}},zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function Gy(){return ip||(ip=1,function(i){function e(J,ce){var ee=J.length;J.push(ce);e:for(;0<ee;){var D=ee-1>>>1,b=J[D];if(0<a(b,ce))J[D]=ce,J[ee]=b,ee=D;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ce=J[0],ee=J.pop();if(ee!==ce){J[0]=ee;e:for(var D=0,b=J.length,le=b>>>1;D<le;){var Ee=2*(D+1)-1,we=J[Ee],Ce=Ee+1,Le=J[Ce];if(0>a(we,ee))Ce<b&&0>a(Le,we)?(J[D]=Le,J[Ce]=ee,D=Ce):(J[D]=we,J[Ee]=ee,D=Ee);else if(Ce<b&&0>a(Le,ee))J[D]=Le,J[Ce]=ee,D=Ce;else break e}}return ce}function a(J,ce){var ee=J.sortIndex-ce.sortIndex;return ee!==0?ee:J.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],E=[],T=1,C=null,U=3,j=!1,Y=!1,G=!1,$=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(J){for(var ce=n(E);ce!==null;){if(ce.callback===null)s(E);else if(ce.startTime<=J)s(E),ce.sortIndex=ce.expirationTime,e(y,ce);else break;ce=n(E)}}function Se(J){if(G=!1,ve(J),!Y)if(n(y)!==null)Y=!0,kt(Je);else{var ce=n(E);ce!==null&&Ue(Se,ce.startTime-J)}}function Je(J,ce){Y=!1,G&&(G=!1,de(I),I=-1),j=!0;var ee=U;try{for(ve(ce),C=n(y);C!==null&&(!(C.expirationTime>ce)||J&&!N());){var D=C.callback;if(typeof D=="function"){C.callback=null,U=C.priorityLevel;var b=D(C.expirationTime<=ce);ce=i.unstable_now(),typeof b=="function"?C.callback=b:C===n(y)&&s(y),ve(ce)}else s(y);C=n(y)}if(C!==null)var le=!0;else{var Ee=n(E);Ee!==null&&Ue(Se,Ee.startTime-ce),le=!1}return le}finally{C=null,U=ee,j=!1}}var Ne=!1,V=null,I=-1,A=5,k=-1;function N(){return!(i.unstable_now()-k<A)}function x(){if(V!==null){var J=i.unstable_now();k=J;var ce=!0;try{ce=V(!0,J)}finally{ce?S():(Ne=!1,V=null)}}else Ne=!1}var S;if(typeof ge=="function")S=function(){ge(x)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Pt=Ze.port2;Ze.port1.onmessage=x,S=function(){Pt.postMessage(null)}}else S=function(){$(x,0)};function kt(J){V=J,Ne||(Ne=!0,S())}function Ue(J,ce){I=$(function(){J(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){Y||j||(Y=!0,kt(Je))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return U},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(J){switch(U){case 1:case 2:case 3:var ce=3;break;default:ce=U}var ee=U;U=ce;try{return J()}finally{U=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=U;U=J;try{return ce()}finally{U=ee}},i.unstable_scheduleCallback=function(J,ce,ee){var D=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?D+ee:D):ee=D,J){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ee+b,J={id:T++,callback:ce,priorityLevel:J,startTime:ee,expirationTime:b,sortIndex:-1},ee>D?(J.sortIndex=ee,e(E,J),n(y)===null&&J===n(E)&&(G?(de(I),I=-1):G=!0,Ue(Se,ee-D))):(J.sortIndex=b,e(y,J),Y||j||(Y=!0,kt(Je))),J},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(J){var ce=U;return function(){var ee=U;U=ce;try{return J.apply(this,arguments)}finally{U=ee}}}}(zc)),zc}var sp;function Ky(){return sp||(sp=1,Uc.exports=Gy()),Uc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function Xy(){if(op)return Gt;op=1;var i=mh(),e=Ky();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},C={};function U(t){return y.call(C,t)?!0:y.call(T,t)?!1:E.test(t)?C[t]=!0:(T[t]=!0,!1)}function j(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y(t,r,o,u){if(r===null||typeof r>"u"||j(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function G(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$[t]=new G(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];$[r]=new G(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$[t]=new G(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$[t]=new G(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$[t]=new G(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){$[t]=new G(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){$[t]=new G(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){$[t]=new G(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){$[t]=new G(t,5,!1,t.toLowerCase(),null,!1,!1)});var de=/[\-:]([a-z])/g;function ge(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(de,ge);$[r]=new G(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(de,ge);$[r]=new G(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(de,ge);$[r]=new G(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){$[t]=new G(t,1,!1,t.toLowerCase(),null,!1,!1)}),$.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){$[t]=new G(t,1,!1,t.toLowerCase(),null,!0,!0)});function ve(t,r,o,u){var h=$.hasOwnProperty(r)?$[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Y(r,o,h,u)&&(o=null),u||h===null?U(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Je=Symbol.for("react.element"),Ne=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Pt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),J=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,D;function b(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var le=!1;function Ee(t,r){if(!t||le)return"";le=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var u=F}Reflect.construct(t,[],r)}else{try{r.call()}catch(F){u=F}t.call(r.prototype)}else{try{throw Error()}catch(F){u=F}t()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,w=p.length-1;1<=_&&0<=w&&h[_]!==p[w];)w--;for(;1<=_&&0<=w;_--,w--)if(h[_]!==p[w]){if(_!==1||w!==1)do if(_--,w--,0>w||h[_]!==p[w]){var R=`
`+h[_].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=_&&0<=w);break}}}finally{le=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?b(t):""}function we(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=Ee(t.type,!1),t;case 11:return t=Ee(t.type.render,!1),t;case 1:return t=Ee(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Ne:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case x:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pt:return r=t.displayName||null,r!==null?r:Ce(t.type)||"Memo";case kt:r=t._payload,t=t._init;try{return Ce(t(r))}catch{}}return null}function Le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mt(t){var r=je(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Wn(t){t._valueTracker||(t._valueTracker=mt(t))}function xi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=je(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kr(t,r){var o=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Li(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Me(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function qs(t,r){r=r.checked,r!=null&&ve(t,"checked",r,!1)}function Hs(t,r){qs(t,r);var o=Me(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Mi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Mi(t,r.type,Me(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function la(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Mi(t,r,o){(r!=="number"||mr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Gn=Array.isArray;function Kn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Gn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Me(o)}}function Fi(t,r){var o=Me(r.value),u=Me(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Ws(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xn,Gs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Xn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function gr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yr=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(t){Yr.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Xr[r]=Xr[t]})});function Ks(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Xr.hasOwnProperty(t)&&Xr[t]?(""+r).trim():r+"px"}function Xs(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Ks(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Ys=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Js(t,r){if(r){if(Ys[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Zs(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jr=null;function Ui(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,sn=null,xn=null;function ji(t){if(t=So(t)){if(typeof zi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ua(r),zi(t.stateNode,t.type,r))}}function Ln(t){sn?xn?xn.push(t):xn=[t]:sn=t}function eo(){if(sn){var t=sn,r=xn;if(xn=sn=null,ji(t),r)for(t=0;t<r.length;t++)ji(r[t])}}function Zr(t,r){return t(r)}function to(){}var Yn=!1;function no(t,r,o){if(Yn)return t(r,o);Yn=!0;try{return Zr(t,r,o)}finally{Yn=!1,(sn!==null||xn!==null)&&(to(),eo())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=Ua(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Bi=!1;if(m)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Bi=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{Bi=!1}function ei(t,r,o,u,h,p,_,w,R){var F=Array.prototype.slice.call(arguments,3);try{r.apply(o,F)}catch(Q){this.onError(Q)}}var ti=!1,bi=null,yn=!1,ro=null,uu={onError:function(t){ti=!0,bi=t}};function $i(t,r,o,u,h,p,_,w,R){ti=!1,bi=null,ei.apply(uu,arguments)}function ua(t,r,o,u,h,p,_,w,R){if($i.apply(this,arguments),ti){if(ti){var F=bi;ti=!1,bi=null}else throw Error(n(198));yn||(yn=!0,ro=F)}}function _n(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ni(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function vn(t){if(_n(t)!==t)throw Error(n(188))}function ca(t){var r=t.alternate;if(!r){if(r=_n(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return vn(h),t;if(p===u)return vn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,w=h.child;w;){if(w===o){_=!0,o=h,u=p;break}if(w===u){_=!0,u=h,o=p;break}w=w.sibling}if(!_){for(w=p.child;w;){if(w===o){_=!0,o=p,u=h;break}if(w===u){_=!0,u=p,o=h;break}w=w.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function io(t){return t=ca(t),t!==null?qi(t):null}function qi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=qi(t);if(r!==null)return r;t=t.sibling}return null}var Hi=e.unstable_scheduleCallback,so=e.unstable_cancelCallback,ha=e.unstable_shouldYield,cu=e.unstable_requestPaint,Be=e.unstable_now,fa=e.unstable_getCurrentPriorityLevel,ri=e.unstable_ImmediatePriority,yr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,oo=e.unstable_LowPriority,da=e.unstable_IdlePriority,ii=null,Xt=null;function pa(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ii,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:ga,ao=Math.log,ma=Math.LN2;function ga(t){return t>>>=0,t===0?32:31-(ao(t)/ma|0)|0}var Qi=64,Wi=4194304;function _r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function si(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var w=_&~h;w!==0?u=_r(w):(p&=_,p!==0&&(u=_r(p)))}else _=o&~h,_!==0?u=_r(_):p!==0&&(u=_r(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ft(r),h=1<<o,u|=t[o],r&=~h;return u}function hu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ft(p),w=1<<_,R=h[_];R===-1?(!(w&o)||w&u)&&(h[_]=hu(w,r)):R<=r&&(t.expiredLanes|=w),p&=~w}}function Yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oi(){var t=Qi;return Qi<<=1,!(Qi&4194240)&&(Qi=64),t}function vr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Er(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ft(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ft(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function wr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ft(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ae=0;function Tr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ya,Gi,_a,va,Ea,lo=!1,Mn=[],wt=null,En=null,wn=null,Ir=new Map,an=new Map,On=[],fu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wa(t,r){switch(t){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ir.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function Bt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=So(r),r!==null&&Gi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function du(t,r,o,u,h){switch(r){case"focusin":return wt=Bt(wt,t,r,o,u,h),!0;case"dragenter":return En=Bt(En,t,r,o,u,h),!0;case"mouseover":return wn=Bt(wn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ir.set(p,Bt(Ir.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,Bt(an.get(p)||null,t,r,o,u,h)),!0}return!1}function Ta(t){var r=hi(t.target);if(r!==null){var o=_n(r);if(o!==null){if(r=o.tag,r===13){if(r=ni(o),r!==null){t.blockedOn=r,Ea(t.priority,function(){_a(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zn(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ki(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Jr=u,o.target.dispatchEvent(u),Jr=null}else return r=So(o),r!==null&&Gi(r),t.blockedOn=o,!1;r.shift()}return!0}function ai(t,r,o){Zn(t)&&o.delete(r)}function Ia(){lo=!1,wt!==null&&Zn(wt)&&(wt=null),En!==null&&Zn(En)&&(En=null),wn!==null&&Zn(wn)&&(wn=null),Ir.forEach(ai),an.forEach(ai)}function Tn(t,r){t.blockedOn===r&&(t.blockedOn=null,lo||(lo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ia)))}function In(t){function r(h){return Tn(h,t)}if(0<Mn.length){Tn(Mn[0],t);for(var o=1;o<Mn.length;o++){var u=Mn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(wt!==null&&Tn(wt,t),En!==null&&Tn(En,t),wn!==null&&Tn(wn,t),Ir.forEach(r),an.forEach(r),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)Ta(o),o.blockedOn===null&&On.shift()}var er=Se.ReactCurrentBatchConfig,Sr=!0;function Qe(t,r,o,u){var h=Ae,p=er.transition;er.transition=null;try{Ae=1,uo(t,r,o,u)}finally{Ae=h,er.transition=p}}function pu(t,r,o,u){var h=Ae,p=er.transition;er.transition=null;try{Ae=4,uo(t,r,o,u)}finally{Ae=h,er.transition=p}}function uo(t,r,o,u){if(Sr){var h=Ki(t,r,o,u);if(h===null)Au(t,r,u,li,o),wa(t,u);else if(du(h,t,r,o,u))u.stopPropagation();else if(wa(t,u),r&4&&-1<fu.indexOf(t)){for(;h!==null;){var p=So(h);if(p!==null&&ya(p),p=Ki(t,r,o,u),p===null&&Au(t,r,u,li,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Au(t,r,u,null,o)}}var li=null;function Ki(t,r,o,u){if(li=null,t=Ui(u),t=hi(t),t!==null)if(r=_n(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ni(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return li=t,null}function co(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fa()){case ri:return 1;case yr:return 4;case on:case oo:return 16;case da:return 536870912;default:return 16}default:return 16}}var Jt=null,Xi=null,bt=null;function ho(){if(bt)return bt;var t,r=Xi,o=r.length,u,h="value"in Jt?Jt.value:Jt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return bt=h.slice(t,1<u?1-u:void 0)}function Yi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function fo(){return!1}function Tt(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:fo,this.isPropagationStopped=fo,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Tt(Sn),Un=ee({},Sn,{view:0,detail:0}),mu=Tt(Un),Zi,tr,Ar,ui=ee({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(Zi=t.screenX-Ar.screenX,tr=t.screenY-Ar.screenY):tr=Zi=0,Ar=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:tr}}),es=Tt(ui),po=ee({},ui,{dataTransfer:0}),Sa=Tt(po),ts=ee({},Un,{relatedTarget:0}),ns=Tt(ts),Aa=ee({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),nr=Tt(Aa),Ra=ee({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ca=Tt(Ra),Pa=ee({},Sn,{data:0}),mo=Tt(Pa),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ka={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Va(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ka[t])?!!r[t]:!1}function zn(){return Va}var l=ee({},Un,{key:function(t){if(t.key){var r=rs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Yi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ut[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?Yi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Tt(l),g=ee({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=Tt(g),L=ee({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),z=Tt(L),X=ee({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fe=Tt(X),ct=ee({},ui,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=Tt(ct),gt=[9,13,27,32],it=m&&"CompositionEvent"in window,ln=null;m&&"documentMode"in document&&(ln=document.documentMode);var Zt=m&&"TextEvent"in window&&!ln,ci=m&&(!it||ln&&8<ln&&11>=ln),is=" ",Wh=!1;function Gh(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function bg(t,r){switch(t){case"compositionend":return Kh(r);case"keypress":return r.which!==32?null:(Wh=!0,is);case"textInput":return t=r.data,t===is&&Wh?null:t;default:return null}}function $g(t,r){if(ss)return t==="compositionend"||!it&&Gh(t,r)?(t=ho(),bt=Xi=Jt=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ci&&r.locale!=="ko"?null:r.data;default:return null}}var qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!qg[t.type]:r==="textarea"}function Yh(t,r,o,u){Ln(u),r=Ma(r,"onChange"),0<r.length&&(o=new Ji("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var go=null,yo=null;function Hg(t){gf(t,0)}function Na(t){var r=cs(t);if(xi(r))return t}function Qg(t,r){if(t==="change")return r}var Jh=!1;if(m){var gu;if(m){var yu="oninput"in document;if(!yu){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),yu=typeof Zh.oninput=="function"}gu=yu}else gu=!1;Jh=gu&&(!document.documentMode||9<document.documentMode)}function ef(){go&&(go.detachEvent("onpropertychange",tf),yo=go=null)}function tf(t){if(t.propertyName==="value"&&Na(yo)){var r=[];Yh(r,yo,t,Ui(t)),no(Hg,r)}}function Wg(t,r,o){t==="focusin"?(ef(),go=r,yo=o,go.attachEvent("onpropertychange",tf)):t==="focusout"&&ef()}function Gg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Na(yo)}function Kg(t,r){if(t==="click")return Na(r)}function Xg(t,r){if(t==="input"||t==="change")return Na(r)}function Yg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:Yg;function _o(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!An(t[h],r[h]))return!1}return!0}function nf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rf(t,r){var o=nf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=nf(o)}}function sf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?sf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function of(){for(var t=window,r=mr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=mr(t.document)}return r}function _u(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Jg(t){var r=of(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&sf(o.ownerDocument.documentElement,o)){if(u!==null&&_u(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=rf(o,p);var _=rf(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zg=m&&"documentMode"in document&&11>=document.documentMode,os=null,vu=null,vo=null,Eu=!1;function af(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Eu||os==null||os!==mr(u)||(u=os,"selectionStart"in u&&_u(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vo&&_o(vo,u)||(vo=u,u=Ma(vu,"onSelect"),0<u.length&&(r=new Ji("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=os)))}function Da(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var as={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},wu={},lf={};m&&(lf=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function xa(t){if(wu[t])return wu[t];if(!as[t])return t;var r=as[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in lf)return wu[t]=r[o];return t}var uf=xa("animationend"),cf=xa("animationiteration"),hf=xa("animationstart"),ff=xa("transitionend"),df=new Map,pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,r){df.set(t,r),c(r,[t])}for(var Tu=0;Tu<pf.length;Tu++){var Iu=pf[Tu],ey=Iu.toLowerCase(),ty=Iu[0].toUpperCase()+Iu.slice(1);Rr(ey,"on"+ty)}Rr(uf,"onAnimationEnd"),Rr(cf,"onAnimationIteration"),Rr(hf,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(ff,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ny=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function mf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ua(u,r,void 0,t),t.currentTarget=null}function gf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var w=u[_],R=w.instance,F=w.currentTarget;if(w=w.listener,R!==p&&h.isPropagationStopped())break e;mf(h,w,F),p=R}else for(_=0;_<u.length;_++){if(w=u[_],R=w.instance,F=w.currentTarget,w=w.listener,R!==p&&h.isPropagationStopped())break e;mf(h,w,F),p=R}}}if(yn)throw t=ro,yn=!1,ro=null,t}function $e(t,r){var o=r[Nu];o===void 0&&(o=r[Nu]=new Set);var u=t+"__bubble";o.has(u)||(yf(r,t,2,!1),o.add(u))}function Su(t,r,o){var u=0;r&&(u|=4),yf(o,t,u,r)}var La="_reactListening"+Math.random().toString(36).slice(2);function wo(t){if(!t[La]){t[La]=!0,s.forEach(function(o){o!=="selectionchange"&&(ny.has(o)||Su(o,!1,t),Su(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[La]||(r[La]=!0,Su("selectionchange",!1,r))}}function yf(t,r,o,u){switch(co(r)){case 1:var h=Qe;break;case 4:h=pu;break;default:h=uo}o=h.bind(null,r,o,t),h=void 0,!Bi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Au(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;w!==null;){if(_=hi(w),_===null)return;if(R=_.tag,R===5||R===6){u=p=_;continue e}w=w.parentNode}}u=u.return}no(function(){var F=p,Q=Ui(o),W=[];e:{var H=df.get(t);if(H!==void 0){var Z=Ji,re=t;switch(t){case"keypress":if(Yi(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":re="focus",Z=ns;break;case"focusout":re="blur",Z=ns;break;case"beforeblur":case"afterblur":Z=ns;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Sa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=z;break;case uf:case cf:case hf:Z=nr;break;case ff:Z=Fe;break;case"scroll":Z=mu;break;case"wheel":Z=Pe;break;case"copy":case"cut":case"paste":Z=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=v}var ie=(r&4)!==0,tt=!ie&&t==="scroll",M=ie?H!==null?H+"Capture":null:H;ie=[];for(var P=F,O;P!==null;){O=P;var K=O.stateNode;if(O.tag===5&&K!==null&&(O=K,M!==null&&(K=et(P,M),K!=null&&ie.push(To(P,K,O)))),tt)break;P=P.return}0<ie.length&&(H=new Z(H,re,null,o,Q),W.push({event:H,listeners:ie}))}}if(!(r&7)){e:{if(H=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",H&&o!==Jr&&(re=o.relatedTarget||o.fromElement)&&(hi(re)||re[rr]))break e;if((Z||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,Z?(re=o.relatedTarget||o.toElement,Z=F,re=re?hi(re):null,re!==null&&(tt=_n(re),re!==tt||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=F),Z!==re)){if(ie=es,K="onMouseLeave",M="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ie=v,K="onPointerLeave",M="onPointerEnter",P="pointer"),tt=Z==null?H:cs(Z),O=re==null?H:cs(re),H=new ie(K,P+"leave",Z,o,Q),H.target=tt,H.relatedTarget=O,K=null,hi(Q)===F&&(ie=new ie(M,P+"enter",re,o,Q),ie.target=O,ie.relatedTarget=tt,K=ie),tt=K,Z&&re)t:{for(ie=Z,M=re,P=0,O=ie;O;O=ls(O))P++;for(O=0,K=M;K;K=ls(K))O++;for(;0<P-O;)ie=ls(ie),P--;for(;0<O-P;)M=ls(M),O--;for(;P--;){if(ie===M||M!==null&&ie===M.alternate)break t;ie=ls(ie),M=ls(M)}ie=null}else ie=null;Z!==null&&_f(W,H,Z,ie,!1),re!==null&&tt!==null&&_f(W,tt,re,ie,!0)}}e:{if(H=F?cs(F):window,Z=H.nodeName&&H.nodeName.toLowerCase(),Z==="select"||Z==="input"&&H.type==="file")var oe=Qg;else if(Xh(H))if(Jh)oe=Xg;else{oe=Gg;var he=Wg}else(Z=H.nodeName)&&Z.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(oe=Kg);if(oe&&(oe=oe(t,F))){Yh(W,oe,o,Q);break e}he&&he(t,H,F),t==="focusout"&&(he=H._wrapperState)&&he.controlled&&H.type==="number"&&Mi(H,"number",H.value)}switch(he=F?cs(F):window,t){case"focusin":(Xh(he)||he.contentEditable==="true")&&(os=he,vu=F,vo=null);break;case"focusout":vo=vu=os=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,af(W,o,Q);break;case"selectionchange":if(Zg)break;case"keydown":case"keyup":af(W,o,Q)}var fe;if(it)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else ss?Gh(t,o)&&(pe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(pe="onCompositionStart");pe&&(ci&&o.locale!=="ko"&&(ss||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&ss&&(fe=ho()):(Jt=Q,Xi="value"in Jt?Jt.value:Jt.textContent,ss=!0)),he=Ma(F,pe),0<he.length&&(pe=new mo(pe,t,null,o,Q),W.push({event:pe,listeners:he}),fe?pe.data=fe:(fe=Kh(o),fe!==null&&(pe.data=fe)))),(fe=Zt?bg(t,o):$g(t,o))&&(F=Ma(F,"onBeforeInput"),0<F.length&&(Q=new mo("onBeforeInput","beforeinput",null,o,Q),W.push({event:Q,listeners:F}),Q.data=fe))}gf(W,r)})}function To(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ma(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(To(t,p,h)),p=et(t,r),p!=null&&u.push(To(t,p,h))),t=t.return}return u}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _f(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var w=o,R=w.alternate,F=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&F!==null&&(w=F,h?(R=et(o,p),R!=null&&_.unshift(To(o,R,w))):h||(R=et(o,p),R!=null&&_.push(To(o,R,w)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var ry=/\r\n?/g,iy=/\u0000|\uFFFD/g;function vf(t){return(typeof t=="string"?t:""+t).replace(ry,`
`).replace(iy,"")}function Oa(t,r,o){if(r=vf(r),vf(t)!==r&&o)throw Error(n(425))}function Fa(){}var Ru=null,Cu=null;function Pu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,Ef=typeof Promise=="function"?Promise:void 0,oy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ef<"u"?function(t){return Ef.resolve(null).then(t).catch(ay)}:ku;function ay(t){setTimeout(function(){throw t})}function Vu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function Cr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function wf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),jn="__reactFiber$"+us,Io="__reactProps$"+us,rr="__reactContainer$"+us,Nu="__reactEvents$"+us,ly="__reactListeners$"+us,uy="__reactHandles$"+us;function hi(t){var r=t[jn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[rr]||o[jn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=wf(t);t!==null;){if(o=t[jn])return o;t=wf(t)}return r}t=o,o=t.parentNode}return null}function So(t){return t=t[jn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ua(t){return t[Io]||null}var Du=[],hs=-1;function Pr(t){return{current:t}}function qe(t){0>hs||(t.current=Du[hs],Du[hs]=null,hs--)}function be(t,r){hs++,Du[hs]=t.current,t.current=r}var kr={},Vt=Pr(kr),$t=Pr(!1),fi=kr;function fs(t,r){var o=t.type.contextTypes;if(!o)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function za(){qe($t),qe(Vt)}function Tf(t,r,o){if(Vt.current!==kr)throw Error(n(168));be(Vt,r),be($t,o)}function If(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Le(t)||"Unknown",h));return ee({},o,u)}function ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,fi=Vt.current,be(Vt,t),be($t,$t.current),!0}function Sf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=If(t,r,fi),u.__reactInternalMemoizedMergedChildContext=t,qe($t),qe(Vt),be(Vt,t)):qe($t),be($t,o)}var ir=null,Ba=!1,xu=!1;function Af(t){ir===null?ir=[t]:ir.push(t)}function cy(t){Ba=!0,Af(t)}function Vr(){if(!xu&&ir!==null){xu=!0;var t=0,r=Ae;try{var o=ir;for(Ae=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ir=null,Ba=!1}catch(h){throw ir!==null&&(ir=ir.slice(t+1)),Hi(ri,Vr),h}finally{Ae=r,xu=!1}}return null}var ds=[],ps=0,ba=null,$a=0,un=[],cn=0,di=null,sr=1,or="";function pi(t,r){ds[ps++]=$a,ds[ps++]=ba,ba=t,$a=r}function Rf(t,r,o){un[cn++]=sr,un[cn++]=or,un[cn++]=di,di=t;var u=sr;t=or;var h=32-Ft(u)-1;u&=~(1<<h),o+=1;var p=32-Ft(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,sr=1<<32-Ft(r)+h|o<<h|u,or=p+t}else sr=1<<p|o<<h|u,or=t}function Lu(t){t.return!==null&&(pi(t,1),Rf(t,1,0))}function Mu(t){for(;t===ba;)ba=ds[--ps],ds[ps]=null,$a=ds[--ps],ds[ps]=null;for(;t===di;)di=un[--cn],un[cn]=null,or=un[--cn],un[cn]=null,sr=un[--cn],un[cn]=null}var en=null,tn=null,We=!1,Rn=null;function Cf(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Pf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,en=t,tn=Cr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,en=t,tn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=di!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,en=t,tn=null,!0):!1;default:return!1}}function Ou(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fu(t){if(We){var r=tn;if(r){var o=r;if(!Pf(t,r)){if(Ou(t))throw Error(n(418));r=Cr(o.nextSibling);var u=en;r&&Pf(t,r)?Cf(u,o):(t.flags=t.flags&-4097|2,We=!1,en=t)}}else{if(Ou(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,en=t}}}function kf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function qa(t){if(t!==en)return!1;if(!We)return kf(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Pu(t.type,t.memoizedProps)),r&&(r=tn)){if(Ou(t))throw Vf(),Error(n(418));for(;r;)Cf(t,r),r=Cr(r.nextSibling)}if(kf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){tn=Cr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}tn=null}}else tn=en?Cr(t.stateNode.nextSibling):null;return!0}function Vf(){for(var t=tn;t;)t=Cr(t.nextSibling)}function ms(){tn=en=null,We=!1}function Uu(t){Rn===null?Rn=[t]:Rn.push(t)}var hy=Se.ReactCurrentBatchConfig;function Ao(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var w=h.refs;_===null?delete w[p]:w[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ha(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Nf(t){var r=t._init;return r(t._payload)}function Df(t){function r(M,P){if(t){var O=M.deletions;O===null?(M.deletions=[P],M.flags|=16):O.push(P)}}function o(M,P){if(!t)return null;for(;P!==null;)r(M,P),P=P.sibling;return null}function u(M,P){for(M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(M,P){return M=Ur(M,P),M.index=0,M.sibling=null,M}function p(M,P,O){return M.index=O,t?(O=M.alternate,O!==null?(O=O.index,O<P?(M.flags|=2,P):O):(M.flags|=2,P)):(M.flags|=1048576,P)}function _(M){return t&&M.alternate===null&&(M.flags|=2),M}function w(M,P,O,K){return P===null||P.tag!==6?(P=kc(O,M.mode,K),P.return=M,P):(P=h(P,O),P.return=M,P)}function R(M,P,O,K){var oe=O.type;return oe===V?Q(M,P,O.props.children,K,O.key):P!==null&&(P.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===kt&&Nf(oe)===P.type)?(K=h(P,O.props),K.ref=Ao(M,P,O),K.return=M,K):(K=ml(O.type,O.key,O.props,null,M.mode,K),K.ref=Ao(M,P,O),K.return=M,K)}function F(M,P,O,K){return P===null||P.tag!==4||P.stateNode.containerInfo!==O.containerInfo||P.stateNode.implementation!==O.implementation?(P=Vc(O,M.mode,K),P.return=M,P):(P=h(P,O.children||[]),P.return=M,P)}function Q(M,P,O,K,oe){return P===null||P.tag!==7?(P=Ti(O,M.mode,K,oe),P.return=M,P):(P=h(P,O),P.return=M,P)}function W(M,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return P=kc(""+P,M.mode,O),P.return=M,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Je:return O=ml(P.type,P.key,P.props,null,M.mode,O),O.ref=Ao(M,null,P),O.return=M,O;case Ne:return P=Vc(P,M.mode,O),P.return=M,P;case kt:var K=P._init;return W(M,K(P._payload),O)}if(Gn(P)||ce(P))return P=Ti(P,M.mode,O,null),P.return=M,P;Ha(M,P)}return null}function H(M,P,O,K){var oe=P!==null?P.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return oe!==null?null:w(M,P,""+O,K);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Je:return O.key===oe?R(M,P,O,K):null;case Ne:return O.key===oe?F(M,P,O,K):null;case kt:return oe=O._init,H(M,P,oe(O._payload),K)}if(Gn(O)||ce(O))return oe!==null?null:Q(M,P,O,K,null);Ha(M,O)}return null}function Z(M,P,O,K,oe){if(typeof K=="string"&&K!==""||typeof K=="number")return M=M.get(O)||null,w(P,M,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Je:return M=M.get(K.key===null?O:K.key)||null,R(P,M,K,oe);case Ne:return M=M.get(K.key===null?O:K.key)||null,F(P,M,K,oe);case kt:var he=K._init;return Z(M,P,O,he(K._payload),oe)}if(Gn(K)||ce(K))return M=M.get(O)||null,Q(P,M,K,oe,null);Ha(P,K)}return null}function re(M,P,O,K){for(var oe=null,he=null,fe=P,pe=P=0,vt=null;fe!==null&&pe<O.length;pe++){fe.index>pe?(vt=fe,fe=null):vt=fe.sibling;var xe=H(M,fe,O[pe],K);if(xe===null){fe===null&&(fe=vt);break}t&&fe&&xe.alternate===null&&r(M,fe),P=p(xe,P,pe),he===null?oe=xe:he.sibling=xe,he=xe,fe=vt}if(pe===O.length)return o(M,fe),We&&pi(M,pe),oe;if(fe===null){for(;pe<O.length;pe++)fe=W(M,O[pe],K),fe!==null&&(P=p(fe,P,pe),he===null?oe=fe:he.sibling=fe,he=fe);return We&&pi(M,pe),oe}for(fe=u(M,fe);pe<O.length;pe++)vt=Z(fe,M,pe,O[pe],K),vt!==null&&(t&&vt.alternate!==null&&fe.delete(vt.key===null?pe:vt.key),P=p(vt,P,pe),he===null?oe=vt:he.sibling=vt,he=vt);return t&&fe.forEach(function(zr){return r(M,zr)}),We&&pi(M,pe),oe}function ie(M,P,O,K){var oe=ce(O);if(typeof oe!="function")throw Error(n(150));if(O=oe.call(O),O==null)throw Error(n(151));for(var he=oe=null,fe=P,pe=P=0,vt=null,xe=O.next();fe!==null&&!xe.done;pe++,xe=O.next()){fe.index>pe?(vt=fe,fe=null):vt=fe.sibling;var zr=H(M,fe,xe.value,K);if(zr===null){fe===null&&(fe=vt);break}t&&fe&&zr.alternate===null&&r(M,fe),P=p(zr,P,pe),he===null?oe=zr:he.sibling=zr,he=zr,fe=vt}if(xe.done)return o(M,fe),We&&pi(M,pe),oe;if(fe===null){for(;!xe.done;pe++,xe=O.next())xe=W(M,xe.value,K),xe!==null&&(P=p(xe,P,pe),he===null?oe=xe:he.sibling=xe,he=xe);return We&&pi(M,pe),oe}for(fe=u(M,fe);!xe.done;pe++,xe=O.next())xe=Z(fe,M,pe,xe.value,K),xe!==null&&(t&&xe.alternate!==null&&fe.delete(xe.key===null?pe:xe.key),P=p(xe,P,pe),he===null?oe=xe:he.sibling=xe,he=xe);return t&&fe.forEach(function(qy){return r(M,qy)}),We&&pi(M,pe),oe}function tt(M,P,O,K){if(typeof O=="object"&&O!==null&&O.type===V&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Je:e:{for(var oe=O.key,he=P;he!==null;){if(he.key===oe){if(oe=O.type,oe===V){if(he.tag===7){o(M,he.sibling),P=h(he,O.props.children),P.return=M,M=P;break e}}else if(he.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===kt&&Nf(oe)===he.type){o(M,he.sibling),P=h(he,O.props),P.ref=Ao(M,he,O),P.return=M,M=P;break e}o(M,he);break}else r(M,he);he=he.sibling}O.type===V?(P=Ti(O.props.children,M.mode,K,O.key),P.return=M,M=P):(K=ml(O.type,O.key,O.props,null,M.mode,K),K.ref=Ao(M,P,O),K.return=M,M=K)}return _(M);case Ne:e:{for(he=O.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===O.containerInfo&&P.stateNode.implementation===O.implementation){o(M,P.sibling),P=h(P,O.children||[]),P.return=M,M=P;break e}else{o(M,P);break}else r(M,P);P=P.sibling}P=Vc(O,M.mode,K),P.return=M,M=P}return _(M);case kt:return he=O._init,tt(M,P,he(O._payload),K)}if(Gn(O))return re(M,P,O,K);if(ce(O))return ie(M,P,O,K);Ha(M,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,P!==null&&P.tag===6?(o(M,P.sibling),P=h(P,O),P.return=M,M=P):(o(M,P),P=kc(O,M.mode,K),P.return=M,M=P),_(M)):o(M,P)}return tt}var gs=Df(!0),xf=Df(!1),Qa=Pr(null),Wa=null,ys=null,zu=null;function ju(){zu=ys=Wa=null}function Bu(t){var r=Qa.current;qe(Qa),t._currentValue=r}function bu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function _s(t,r){Wa=t,zu=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Ht=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if(zu!==t)if(t={context:t,memoizedValue:r,next:null},ys===null){if(Wa===null)throw Error(n(308));ys=t,Wa.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return r}var mi=null;function $u(t){mi===null?mi=[t]:mi.push(t)}function Lf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,$u(r)):(o.next=h.next,h.next=o),r.interleaved=o,ar(t,u)}function ar(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Nr=!1;function qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Dr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,De&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,ar(t,o)}return h=u.interleaved,h===null?(r.next=r,$u(u)):(r.next=h.next,h.next=r),u.interleaved=r,ar(t,o)}function Ga(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}function Of(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ka(t,r,o,u){var h=t.updateQueue;Nr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,F=R.next;R.next=null,_===null?p=F:_.next=F,_=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==_&&(w===null?Q.firstBaseUpdate=F:w.next=F,Q.lastBaseUpdate=R))}if(p!==null){var W=h.baseState;_=0,Q=F=R=null,w=p;do{var H=w.lane,Z=w.eventTime;if((u&H)===H){Q!==null&&(Q=Q.next={eventTime:Z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,ie=w;switch(H=r,Z=o,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){W=re.call(Z,W,H);break e}W=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,H=typeof re=="function"?re.call(Z,W,H):re,H==null)break e;W=ee({},W,H);break e;case 2:Nr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,H=h.effects,H===null?h.effects=[w]:H.push(w))}else Z={eventTime:Z,lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(F=Q=Z,R=W):Q=Q.next=Z,_|=H;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;H=w,w=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);if(Q===null&&(R=W),h.baseState=R,h.firstBaseUpdate=F,h.lastBaseUpdate=Q,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);_i|=_,t.lanes=_,t.memoizedState=W}}function Ff(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Ro={},Bn=Pr(Ro),Co=Pr(Ro),Po=Pr(Ro);function gi(t){if(t===Ro)throw Error(n(174));return t}function Hu(t,r){switch(be(Po,r),be(Co,t),be(Bn,Ro),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}qe(Bn),be(Bn,r)}function vs(){qe(Bn),qe(Co),qe(Po)}function Uf(t){gi(Po.current);var r=gi(Bn.current),o=ut(r,t.type);r!==o&&(be(Co,t),be(Bn,o))}function Qu(t){Co.current===t&&(qe(Bn),qe(Co))}var Ge=Pr(0);function Xa(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wu=[];function Gu(){for(var t=0;t<Wu.length;t++)Wu[t]._workInProgressVersionPrimary=null;Wu.length=0}var Ya=Se.ReactCurrentDispatcher,Ku=Se.ReactCurrentBatchConfig,yi=0,Ke=null,ht=null,yt=null,Ja=!1,ko=!1,Vo=0,fy=0;function Nt(){throw Error(n(321))}function Xu(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function Yu(t,r,o,u,h,p){if(yi=p,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ya.current=t===null||t.memoizedState===null?gy:yy,t=o(u,h),ko){p=0;do{if(ko=!1,Vo=0,25<=p)throw Error(n(301));p+=1,yt=ht=null,r.updateQueue=null,Ya.current=_y,t=o(u,h)}while(ko)}if(Ya.current=tl,r=ht!==null&&ht.next!==null,yi=0,yt=ht=Ke=null,Ja=!1,r)throw Error(n(300));return t}function Ju(){var t=Vo!==0;return Vo=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ke.memoizedState=yt=t:yt=yt.next=t,yt}function fn(){if(ht===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=yt===null?Ke.memoizedState:yt.next;if(r!==null)yt=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Ke.memoizedState=yt=t:yt=yt.next=t}return yt}function No(t,r){return typeof r=="function"?r(t):r}function Zu(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=_=null,R=null,F=p;do{var Q=F.lane;if((yi&Q)===Q)R!==null&&(R=R.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:t(u,F.action);else{var W={lane:Q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};R===null?(w=R=W,_=u):R=R.next=W,Ke.lanes|=Q,_i|=Q}F=F.next}while(F!==null&&F!==p);R===null?_=u:R.next=w,An(u,r.memoizedState)||(Ht=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ke.lanes|=p,_i|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function ec(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);An(p,r.memoizedState)||(Ht=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function zf(){}function jf(t,r){var o=Ke,u=fn(),h=r(),p=!An(u.memoizedState,h);if(p&&(u.memoizedState=h,Ht=!0),u=u.queue,tc($f.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,Do(9,bf.bind(null,o,u,h,r),void 0,null),_t===null)throw Error(n(349));yi&30||Bf(o,r,h)}return h}function Bf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function bf(t,r,o,u){r.value=o,r.getSnapshot=u,qf(r)&&Hf(t)}function $f(t,r,o){return o(function(){qf(r)&&Hf(t)})}function qf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function Hf(t){var r=ar(t,1);r!==null&&Vn(r,t,1,-1)}function Qf(t){var r=bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},r.queue=t,t=t.dispatch=my.bind(null,Ke,t),[r.memoizedState,t]}function Do(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Wf(){return fn().memoizedState}function Za(t,r,o,u){var h=bn();Ke.flags|=t,h.memoizedState=Do(1|r,o,void 0,u===void 0?null:u)}function el(t,r,o,u){var h=fn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var _=ht.memoizedState;if(p=_.destroy,u!==null&&Xu(u,_.deps)){h.memoizedState=Do(r,o,p,u);return}}Ke.flags|=t,h.memoizedState=Do(1|r,o,p,u)}function Gf(t,r){return Za(8390656,8,t,r)}function tc(t,r){return el(2048,8,t,r)}function Kf(t,r){return el(4,2,t,r)}function Xf(t,r){return el(4,4,t,r)}function Yf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Jf(t,r,o){return o=o!=null?o.concat([t]):null,el(4,4,Yf.bind(null,r,t),o)}function nc(){}function Zf(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Xu(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function ed(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Xu(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function td(t,r,o){return yi&21?(An(o,r)||(o=oi(),Ke.lanes|=o,_i|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=o)}function dy(t,r){var o=Ae;Ae=o!==0&&4>o?o:4,t(!0);var u=Ku.transition;Ku.transition={};try{t(!1),r()}finally{Ae=o,Ku.transition=u}}function nd(){return fn().memoizedState}function py(t,r,o){var u=Or(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},rd(t))id(r,o);else if(o=Lf(t,r,o,u),o!==null){var h=jt();Vn(o,t,u,h),sd(o,r,u)}}function my(t,r,o){var u=Or(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(rd(t))id(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,w=p(_,o);if(h.hasEagerState=!0,h.eagerState=w,An(w,_)){var R=r.interleaved;R===null?(h.next=h,$u(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=Lf(t,r,h,u),o!==null&&(h=jt(),Vn(o,t,u,h),sd(o,r,u))}}function rd(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function id(t,r){ko=Ja=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function sd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}var tl={readContext:hn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},gy={readContext:hn,useCallback:function(t,r){return bn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:Gf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Za(4194308,4,Yf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Za(4194308,4,t,r)},useInsertionEffect:function(t,r){return Za(4,2,t,r)},useMemo:function(t,r){var o=bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=bn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=py.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var r=bn();return t={current:t},r.memoizedState=t},useState:Qf,useDebugValue:nc,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=Qf(!1),r=t[0];return t=dy.bind(null,t[1]),bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ke,h=bn();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),_t===null)throw Error(n(349));yi&30||Bf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Gf($f.bind(null,u,p,t),[t]),u.flags|=2048,Do(9,bf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=bn(),r=_t.identifierPrefix;if(We){var o=or,u=sr;o=(u&~(1<<32-Ft(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Vo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=fy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},yy={readContext:hn,useCallback:Zf,useContext:hn,useEffect:tc,useImperativeHandle:Jf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:ed,useReducer:Zu,useRef:Wf,useState:function(){return Zu(No)},useDebugValue:nc,useDeferredValue:function(t){var r=fn();return td(r,ht.memoizedState,t)},useTransition:function(){var t=Zu(No)[0],r=fn().memoizedState;return[t,r]},useMutableSource:zf,useSyncExternalStore:jf,useId:nd,unstable_isNewReconciler:!1},_y={readContext:hn,useCallback:Zf,useContext:hn,useEffect:tc,useImperativeHandle:Jf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:ed,useReducer:ec,useRef:Wf,useState:function(){return ec(No)},useDebugValue:nc,useDeferredValue:function(t){var r=fn();return ht===null?r.memoizedState=t:td(r,ht.memoizedState,t)},useTransition:function(){var t=ec(No)[0],r=fn().memoizedState;return[t,r]},useMutableSource:zf,useSyncExternalStore:jf,useId:nd,unstable_isNewReconciler:!1};function Cn(t,r){if(t&&t.defaultProps){r=ee({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function rc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ee({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var nl={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=jt(),h=Or(t),p=lr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Dr(t,p,h),r!==null&&(Vn(r,t,h,u),Ga(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=jt(),h=Or(t),p=lr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Dr(t,p,h),r!==null&&(Vn(r,t,h,u),Ga(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=jt(),u=Or(t),h=lr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Dr(t,h,u),r!==null&&(Vn(r,t,u,o),Ga(r,t,u))}};function od(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!_o(o,u)||!_o(h,p):!0}function ad(t,r,o){var u=!1,h=kr,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=qt(r)?fi:Vt.current,u=r.contextTypes,p=(u=u!=null)?fs(t,h):kr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=nl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function ld(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&nl.enqueueReplaceState(r,r.state,null)}function ic(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},qu(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=qt(r)?fi:Vt.current,h.context=fs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(rc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&nl.enqueueReplaceState(h,h.state,null),Ka(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,r){try{var o="",u=r;do o+=we(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function sc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function oc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var vy=typeof WeakMap=="function"?WeakMap:Map;function ud(t,r,o){o=lr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){ul||(ul=!0,wc=u),oc(t,r)},o}function cd(t,r,o){o=lr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){oc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){oc(t,r),typeof u!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function hd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new vy;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=xy.bind(null,t,r,o),r.then(t,t))}function fd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function dd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=lr(-1,1),r.tag=2,Dr(o,r,1))),o.lanes|=1),t)}var Ey=Se.ReactCurrentOwner,Ht=!1;function zt(t,r,o,u){r.child=t===null?xf(r,null,o,u):gs(r,t.child,o,u)}function pd(t,r,o,u,h){o=o.render;var p=r.ref;return _s(r,h),u=Yu(t,r,o,u,p,h),o=Ju(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ur(t,r,h)):(We&&o&&Lu(r),r.flags|=1,zt(t,r,u,h),r.child)}function md(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Pc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,gd(t,r,p,u,h)):(t=ml(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:_o,o(_,u)&&t.ref===r.ref)return ur(t,r,h)}return r.flags|=1,t=Ur(p,u),t.ref=r.ref,t.return=r,r.child=t}function gd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(_o(p,u)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Ht=!0);else return r.lanes=t.lanes,ur(t,r,h)}return ac(t,r,o,u,h)}function yd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Ts,nn),nn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,be(Ts,nn),nn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,be(Ts,nn),nn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,be(Ts,nn),nn|=u;return zt(t,r,h,o),r.child}function _d(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function ac(t,r,o,u,h){var p=qt(o)?fi:Vt.current;return p=fs(r,p),_s(r,h),o=Yu(t,r,o,u,p,h),u=Ju(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ur(t,r,h)):(We&&u&&Lu(r),r.flags|=1,zt(t,r,o,h),r.child)}function vd(t,r,o,u,h){if(qt(o)){var p=!0;ja(r)}else p=!1;if(_s(r,h),r.stateNode===null)il(t,r),ad(r,o,u),ic(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,w=r.memoizedProps;_.props=w;var R=_.context,F=o.contextType;typeof F=="object"&&F!==null?F=hn(F):(F=qt(o)?fi:Vt.current,F=fs(r,F));var Q=o.getDerivedStateFromProps,W=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function";W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==u||R!==F)&&ld(r,_,u,F),Nr=!1;var H=r.memoizedState;_.state=H,Ka(r,u,_,h),R=r.memoizedState,w!==u||H!==R||$t.current||Nr?(typeof Q=="function"&&(rc(r,o,Q,u),R=r.memoizedState),(w=Nr||od(r,o,w,u,H,R,F))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),_.props=u,_.state=R,_.context=F,u=w):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Mf(t,r),w=r.memoizedProps,F=r.type===r.elementType?w:Cn(r.type,w),_.props=F,W=r.pendingProps,H=_.context,R=o.contextType,typeof R=="object"&&R!==null?R=hn(R):(R=qt(o)?fi:Vt.current,R=fs(r,R));var Z=o.getDerivedStateFromProps;(Q=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==W||H!==R)&&ld(r,_,u,R),Nr=!1,H=r.memoizedState,_.state=H,Ka(r,u,_,h);var re=r.memoizedState;w!==W||H!==re||$t.current||Nr?(typeof Z=="function"&&(rc(r,o,Z,u),re=r.memoizedState),(F=Nr||od(r,o,F,u,H,re,R)||!1)?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,re,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,re,R)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),_.props=u,_.state=re,_.context=R,u=F):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),u=!1)}return lc(t,r,o,u,p,h)}function lc(t,r,o,u,h,p){_d(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Sf(r,o,!1),ur(t,r,p);u=r.stateNode,Ey.current=r;var w=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=gs(r,t.child,null,p),r.child=gs(r,null,w,p)):zt(t,r,w,p),r.memoizedState=u.state,h&&Sf(r,o,!0),r.child}function Ed(t){var r=t.stateNode;r.pendingContext?Tf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Tf(t,r.context,!1),Hu(t,r.containerInfo)}function wd(t,r,o,u,h){return ms(),Uu(h),r.flags|=256,zt(t,r,o,u),r.child}var uc={dehydrated:null,treeContext:null,retryLane:0};function cc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Td(t,r,o){var u=r.pendingProps,h=Ge.current,p=!1,_=(r.flags&128)!==0,w;if((w=_)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),be(Ge,h&1),t===null)return Fu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=gl(_,u,0,null),t=Ti(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=cc(o),r.memoizedState=uc,t):hc(r,_));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return wy(t,r,_,u,w,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,w=h.sibling;var R={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Ur(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=Ur(w,p):(p=Ti(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?cc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=uc,u}return p=t.child,t=p.sibling,u=Ur(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function hc(t,r){return r=gl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function rl(t,r,o,u){return u!==null&&Uu(u),gs(r,t.child,null,o),t=hc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function wy(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=sc(Error(n(422))),rl(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=gl({mode:"visible",children:u.children},h,0,null),p=Ti(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&gs(r,t.child,null,_),r.child.memoizedState=cc(_),r.memoizedState=uc,p);if(!(r.mode&1))return rl(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=sc(p,u,void 0),rl(t,r,_,u)}if(w=(_&t.childLanes)!==0,Ht||w){if(u=_t,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ar(t,h),Vn(u,t,h,-1))}return Cc(),u=sc(Error(n(421))),rl(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Ly.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,tn=Cr(h.nextSibling),en=r,We=!0,Rn=null,t!==null&&(un[cn++]=sr,un[cn++]=or,un[cn++]=di,sr=t.id,or=t.overflow,di=r),r=hc(r,u.children),r.flags|=4096,r)}function Id(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),bu(t.return,r,o)}function fc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Sd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(zt(t,r,u.children,o),u=Ge.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Id(t,o,r);else if(t.tag===19)Id(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(be(Ge,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Xa(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),fc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Xa(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}fc(r,!0,o,null,p);break;case"together":fc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function il(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ur(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),_i|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ur(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ur(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Ty(t,r,o){switch(r.tag){case 3:Ed(r),ms();break;case 5:Uf(r);break;case 1:qt(r.type)&&ja(r);break;case 4:Hu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;be(Qa,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(be(Ge,Ge.current&1),r.flags|=128,null):o&r.child.childLanes?Td(t,r,o):(be(Ge,Ge.current&1),t=ur(t,r,o),t!==null?t.sibling:null);be(Ge,Ge.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Sd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),be(Ge,Ge.current),u)break;return null;case 22:case 23:return r.lanes=0,yd(t,r,o)}return ur(t,r,o)}var Ad,dc,Rd,Cd;Ad=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},dc=function(){},Rd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,gi(Bn.current);var p=null;switch(o){case"input":h=Kr(t,h),u=Kr(t,u),p=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),p=[];break;case"textarea":h=Qs(t,h),u=Qs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Fa)}Js(o,u);var _;o=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var w=h[F];for(_ in w)w.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in u){var R=u[F];if(w=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&R!==w&&(R!=null||w!=null))if(F==="style")if(w){for(_ in w)!w.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in R)R.hasOwnProperty(_)&&w[_]!==R[_]&&(o||(o={}),o[_]=R[_])}else o||(p||(p=[]),p.push(F,o)),o=R;else F==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(p=p||[]).push(F,R)):F==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(F,""+R):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(R!=null&&F==="onScroll"&&$e("scroll",t),p||w===R||(p=[])):(p=p||[]).push(F,R))}o&&(p=p||[]).push("style",o);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},Cd=function(t,r,o,u){o!==u&&(r.flags|=4)};function xo(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Iy(t,r,o){var u=r.pendingProps;switch(Mu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return qt(r.type)&&za(),Dt(r),null;case 3:return u=r.stateNode,vs(),qe($t),qe(Vt),Gu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(qa(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Rn!==null&&(Sc(Rn),Rn=null))),dc(t,r),Dt(r),null;case 5:Qu(r);var h=gi(Po.current);if(o=r.type,t!==null&&r.stateNode!=null)Rd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=gi(Bn.current),qa(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[jn]=r,u[Io]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<Eo.length;h++)$e(Eo[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":Li(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":Oi(u,p),$e("invalid",u)}Js(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var w=p[_];_==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&Oa(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&Oa(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(_)&&w!=null&&_==="onScroll"&&$e("scroll",u)}switch(o){case"input":Wn(u),la(u,p,!0);break;case"textarea":Wn(u),Ws(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Fa)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[jn]=r,t[Io]=u,Ad(t,r,!1,!1),r.stateNode=t;e:{switch(_=Zs(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<Eo.length;h++)$e(Eo[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":Li(t,u),h=Kr(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Oi(t,u),h=Qs(t,u),$e("invalid",t);break;default:h=u}Js(o,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var R=w[p];p==="style"?Xs(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Gs(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&gr(t,R):typeof R=="number"&&gr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&$e("scroll",t):R!=null&&ve(t,p,R,_))}switch(o){case"input":Wn(t),la(t,u,!1);break;case"textarea":Wn(t),Ws(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Kn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Kn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Fa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Cd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=gi(Po.current),gi(Bn.current),qa(r)){if(u=r.stateNode,o=r.memoizedProps,u[jn]=r,(p=u.nodeValue!==o)&&(t=en,t!==null))switch(t.tag){case 3:Oa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[jn]=r,r.stateNode=u}return Dt(r),null;case 13:if(qe(Ge),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&tn!==null&&r.mode&1&&!(r.flags&128))Vf(),ms(),r.flags|=98560,p=!1;else if(p=qa(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[jn]=r}else ms(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Rn!==null&&(Sc(Rn),Rn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ge.current&1?ft===0&&(ft=3):Cc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return vs(),dc(t,r),t===null&&wo(r.stateNode.containerInfo),Dt(r),null;case 10:return Bu(r.type._context),Dt(r),null;case 17:return qt(r.type)&&za(),Dt(r),null;case 19:if(qe(Ge),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)xo(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=Xa(t),_!==null){for(r.flags|=128,xo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return be(Ge,Ge.current&1|2),r.child}t=t.sibling}p.tail!==null&&Be()>Is&&(r.flags|=128,u=!0,xo(p,!1),r.lanes=4194304)}else{if(!u)if(t=Xa(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),xo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!We)return Dt(r),null}else 2*Be()-p.renderingStartTime>Is&&o!==1073741824&&(r.flags|=128,u=!0,xo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Be(),r.sibling=null,o=Ge.current,be(Ge,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Rc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?nn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Sy(t,r){switch(Mu(r),r.tag){case 1:return qt(r.type)&&za(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return vs(),qe($t),qe(Vt),Gu(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Qu(r),null;case 13:if(qe(Ge),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ge),null;case 4:return vs(),null;case 10:return Bu(r.type._context),null;case 22:case 23:return Rc(),null;case 24:return null;default:return null}}var sl=!1,xt=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ws(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ye(t,r,u)}else o.current=null}function pc(t,r,o){try{o()}catch(u){Ye(t,r,u)}}var Pd=!1;function Ry(t,r){if(Ru=Sr,t=of(),_u(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,w=-1,R=-1,F=0,Q=0,W=t,H=null;t:for(;;){for(var Z;W!==o||h!==0&&W.nodeType!==3||(w=_+h),W!==p||u!==0&&W.nodeType!==3||(R=_+u),W.nodeType===3&&(_+=W.nodeValue.length),(Z=W.firstChild)!==null;)H=W,W=Z;for(;;){if(W===t)break t;if(H===o&&++F===h&&(w=_),H===p&&++Q===u&&(R=_),(Z=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=Z}o=w===-1||R===-1?null:{start:w,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cu={focusedElem:t,selectionRange:o},Sr=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var re=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,tt=re.memoizedState,M=r.stateNode,P=M.getSnapshotBeforeUpdate(r.elementType===r.type?ie:Cn(r.type,ie),tt);M.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){Ye(r,r.return,K)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return re=Pd,Pd=!1,re}function Lo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&pc(r,o,p)}h=h.next}while(h!==u)}}function ol(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function mc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function kd(t){var r=t.alternate;r!==null&&(t.alternate=null,kd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[jn],delete r[Io],delete r[Nu],delete r[ly],delete r[uy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vd(t){return t.tag===5||t.tag===3||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Fa));else if(u!==4&&(t=t.child,t!==null))for(gc(t,r,o),t=t.sibling;t!==null;)gc(t,r,o),t=t.sibling}function yc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(yc(t,r,o),t=t.sibling;t!==null;)yc(t,r,o),t=t.sibling}var It=null,Pn=!1;function xr(t,r,o){for(o=o.child;o!==null;)Dd(t,r,o),o=o.sibling}function Dd(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ii,o)}catch{}switch(o.tag){case 5:xt||ws(o,r);case 6:var u=It,h=Pn;It=null,xr(t,r,o),It=u,Pn=h,It!==null&&(Pn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(Pn?(t=It,o=o.stateNode,t.nodeType===8?Vu(t.parentNode,o):t.nodeType===1&&Vu(t,o),In(t)):Vu(It,o.stateNode));break;case 4:u=It,h=Pn,It=o.stateNode.containerInfo,Pn=!0,xr(t,r,o),It=u,Pn=h;break;case 0:case 11:case 14:case 15:if(!xt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&pc(o,r,_),h=h.next}while(h!==u)}xr(t,r,o);break;case 1:if(!xt&&(ws(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){Ye(o,r,w)}xr(t,r,o);break;case 21:xr(t,r,o);break;case 22:o.mode&1?(xt=(u=xt)||o.memoizedState!==null,xr(t,r,o),xt=u):xr(t,r,o);break;default:xr(t,r,o)}}function xd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Ay),r.forEach(function(u){var h=My.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function kn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 5:It=w.stateNode,Pn=!1;break e;case 3:It=w.stateNode.containerInfo,Pn=!0;break e;case 4:It=w.stateNode.containerInfo,Pn=!0;break e}w=w.return}if(It===null)throw Error(n(160));Dd(p,_,h),It=null,Pn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(F){Ye(h,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ld(r,t),r=r.sibling}function Ld(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(r,t),$n(t),u&4){try{Lo(3,t,t.return),ol(3,t)}catch(ie){Ye(t,t.return,ie)}try{Lo(5,t,t.return)}catch(ie){Ye(t,t.return,ie)}}break;case 1:kn(r,t),$n(t),u&512&&o!==null&&ws(o,o.return);break;case 5:if(kn(r,t),$n(t),u&512&&o!==null&&ws(o,o.return),t.flags&32){var h=t.stateNode;try{gr(h,"")}catch(ie){Ye(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&qs(h,p),Zs(w,_);var F=Zs(w,p);for(_=0;_<R.length;_+=2){var Q=R[_],W=R[_+1];Q==="style"?Xs(h,W):Q==="dangerouslySetInnerHTML"?Gs(h,W):Q==="children"?gr(h,W):ve(h,Q,W,F)}switch(w){case"input":Hs(h,p);break;case"textarea":Fi(h,p);break;case"select":var H=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Kn(h,!!p.multiple,Z,!1):H!==!!p.multiple&&(p.defaultValue!=null?Kn(h,!!p.multiple,p.defaultValue,!0):Kn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Io]=p}catch(ie){Ye(t,t.return,ie)}}break;case 6:if(kn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ie){Ye(t,t.return,ie)}}break;case 3:if(kn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(ie){Ye(t,t.return,ie)}break;case 4:kn(r,t),$n(t);break;case 13:kn(r,t),$n(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Ec=Be())),u&4&&xd(t);break;case 22:if(Q=o!==null&&o.memoizedState!==null,t.mode&1?(xt=(F=xt)||Q,kn(r,t),xt=F):kn(r,t),$n(t),u&8192){if(F=t.memoizedState!==null,(t.stateNode.isHidden=F)&&!Q&&t.mode&1)for(ne=t,Q=t.child;Q!==null;){for(W=ne=Q;ne!==null;){switch(H=ne,Z=H.child,H.tag){case 0:case 11:case 14:case 15:Lo(4,H,H.return);break;case 1:ws(H,H.return);var re=H.stateNode;if(typeof re.componentWillUnmount=="function"){u=H,o=H.return;try{r=u,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(ie){Ye(u,o,ie)}}break;case 5:ws(H,H.return);break;case 22:if(H.memoizedState!==null){Fd(W);continue}}Z!==null?(Z.return=H,ne=Z):Fd(W)}Q=Q.sibling}e:for(Q=null,W=t;;){if(W.tag===5){if(Q===null){Q=W;try{h=W.stateNode,F?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=W.stateNode,R=W.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=Ks("display",_))}catch(ie){Ye(t,t.return,ie)}}}else if(W.tag===6){if(Q===null)try{W.stateNode.nodeValue=F?"":W.memoizedProps}catch(ie){Ye(t,t.return,ie)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===t)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===t)break e;for(;W.sibling===null;){if(W.return===null||W.return===t)break e;Q===W&&(Q=null),W=W.return}Q===W&&(Q=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:kn(r,t),$n(t),u&4&&xd(t);break;case 21:break;default:kn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Vd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(gr(h,""),u.flags&=-33);var p=Nd(t);yc(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,w=Nd(t);gc(t,w,_);break;default:throw Error(n(161))}}catch(R){Ye(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Cy(t,r,o){ne=t,Md(t)}function Md(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||sl;if(!_){var w=h.alternate,R=w!==null&&w.memoizedState!==null||xt;w=sl;var F=xt;if(sl=_,(xt=R)&&!F)for(ne=h;ne!==null;)_=ne,R=_.child,_.tag===22&&_.memoizedState!==null?Ud(h):R!==null?(R.return=_,ne=R):Ud(h);for(;p!==null;)ne=p,Md(p),p=p.sibling;ne=h,sl=w,xt=F}Od(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ne=p):Od(t)}}function Od(t){for(;ne!==null;){var r=ne;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:xt||ol(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!xt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Cn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Ff(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Ff(r,_,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var Q=F.memoizedState;if(Q!==null){var W=Q.dehydrated;W!==null&&In(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xt||r.flags&512&&mc(r)}catch(H){Ye(r,r.return,H)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Fd(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Ud(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{ol(4,r)}catch(R){Ye(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Ye(r,h,R)}}var p=r.return;try{mc(r)}catch(R){Ye(r,p,R)}break;case 5:var _=r.return;try{mc(r)}catch(R){Ye(r,_,R)}}}catch(R){Ye(r,r.return,R)}if(r===t){ne=null;break}var w=r.sibling;if(w!==null){w.return=r.return,ne=w;break}ne=r.return}}var Py=Math.ceil,al=Se.ReactCurrentDispatcher,_c=Se.ReactCurrentOwner,dn=Se.ReactCurrentBatchConfig,De=0,_t=null,st=null,St=0,nn=0,Ts=Pr(0),ft=0,Mo=null,_i=0,ll=0,vc=0,Oo=null,Qt=null,Ec=0,Is=1/0,cr=null,ul=!1,wc=null,Lr=null,cl=!1,Mr=null,hl=0,Fo=0,Tc=null,fl=-1,dl=0;function jt(){return De&6?Be():fl!==-1?fl:fl=Be()}function Or(t){return t.mode&1?De&2&&St!==0?St&-St:hy.transition!==null?(dl===0&&(dl=oi()),dl):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:co(t.type)),t):1}function Vn(t,r,o,u){if(50<Fo)throw Fo=0,Tc=null,Error(n(185));Er(t,o,u),(!(De&2)||t!==_t)&&(t===_t&&(!(De&2)&&(ll|=o),ft===4&&Fr(t,St)),Wt(t,u),o===1&&De===0&&!(r.mode&1)&&(Is=Be()+500,Ba&&Vr()))}function Wt(t,r){var o=t.callbackNode;Jn(t,r);var u=si(t,t===_t?St:0);if(u===0)o!==null&&so(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&so(o),r===1)t.tag===0?cy(jd.bind(null,t)):Af(jd.bind(null,t)),oy(function(){!(De&6)&&Vr()}),o=null;else{switch(Tr(u)){case 1:o=ri;break;case 4:o=yr;break;case 16:o=on;break;case 536870912:o=da;break;default:o=on}o=Gd(o,zd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function zd(t,r){if(fl=-1,dl=0,De&6)throw Error(n(327));var o=t.callbackNode;if(Ss()&&t.callbackNode!==o)return null;var u=si(t,t===_t?St:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=pl(t,u);else{r=u;var h=De;De|=2;var p=bd();(_t!==t||St!==r)&&(cr=null,Is=Be()+500,Ei(t,r));do try{Ny();break}catch(w){Bd(t,w)}while(!0);ju(),al.current=p,De=h,st!==null?r=0:(_t=null,St=0,r=ft)}if(r!==0){if(r===2&&(h=Yt(t),h!==0&&(u=h,r=Ic(t,h))),r===1)throw o=Mo,Ei(t,0),Fr(t,u),Wt(t,Be()),o;if(r===6)Fr(t,u);else{if(h=t.current.alternate,!(u&30)&&!ky(h)&&(r=pl(t,u),r===2&&(p=Yt(t),p!==0&&(u=p,r=Ic(t,p))),r===1))throw o=Mo,Ei(t,0),Fr(t,u),Wt(t,Be()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:wi(t,Qt,cr);break;case 3:if(Fr(t,u),(u&130023424)===u&&(r=Ec+500-Be(),10<r)){if(si(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){jt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=ku(wi.bind(null,t,Qt,cr),r);break}wi(t,Qt,cr);break;case 4:if(Fr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Ft(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=Be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Py(u/1960))-u,10<u){t.timeoutHandle=ku(wi.bind(null,t,Qt,cr),u);break}wi(t,Qt,cr);break;case 5:wi(t,Qt,cr);break;default:throw Error(n(329))}}}return Wt(t,Be()),t.callbackNode===o?zd.bind(null,t):null}function Ic(t,r){var o=Oo;return t.current.memoizedState.isDehydrated&&(Ei(t,r).flags|=256),t=pl(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&Sc(r)),t}function Sc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function ky(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!An(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(t,r){for(r&=~vc,r&=~ll,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ft(r),u=1<<o;t[o]=-1,r&=~u}}function jd(t){if(De&6)throw Error(n(327));Ss();var r=si(t,0);if(!(r&1))return Wt(t,Be()),null;var o=pl(t,r);if(t.tag!==0&&o===2){var u=Yt(t);u!==0&&(r=u,o=Ic(t,u))}if(o===1)throw o=Mo,Ei(t,0),Fr(t,r),Wt(t,Be()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,wi(t,Qt,cr),Wt(t,Be()),null}function Ac(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(Is=Be()+500,Ba&&Vr())}}function vi(t){Mr!==null&&Mr.tag===0&&!(De&6)&&Ss();var r=De;De|=1;var o=dn.transition,u=Ae;try{if(dn.transition=null,Ae=1,t)return t()}finally{Ae=u,dn.transition=o,De=r,!(De&6)&&Vr()}}function Rc(){nn=Ts.current,qe(Ts)}function Ei(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,sy(o)),st!==null)for(o=st.return;o!==null;){var u=o;switch(Mu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&za();break;case 3:vs(),qe($t),qe(Vt),Gu();break;case 5:Qu(u);break;case 4:vs();break;case 13:qe(Ge);break;case 19:qe(Ge);break;case 10:Bu(u.type._context);break;case 22:case 23:Rc()}o=o.return}if(_t=t,st=t=Ur(t.current,null),St=nn=r,ft=0,Mo=null,vc=ll=_i=0,Qt=Oo=null,mi!==null){for(r=0;r<mi.length;r++)if(o=mi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}mi=null}return t}function Bd(t,r){do{var o=st;try{if(ju(),Ya.current=tl,Ja){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Ja=!1}if(yi=0,yt=ht=Ke=null,ko=!1,Vo=0,_c.current=null,o===null||o.return===null){ft=1,Mo=r,st=null;break}e:{var p=t,_=o.return,w=o,R=r;if(r=St,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=R,Q=w,W=Q.tag;if(!(Q.mode&1)&&(W===0||W===11||W===15)){var H=Q.alternate;H?(Q.updateQueue=H.updateQueue,Q.memoizedState=H.memoizedState,Q.lanes=H.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var Z=fd(_);if(Z!==null){Z.flags&=-257,dd(Z,_,w,p,r),Z.mode&1&&hd(p,F,r),r=Z,R=F;var re=r.updateQueue;if(re===null){var ie=new Set;ie.add(R),r.updateQueue=ie}else re.add(R);break e}else{if(!(r&1)){hd(p,F,r),Cc();break e}R=Error(n(426))}}else if(We&&w.mode&1){var tt=fd(_);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),dd(tt,_,w,p,r),Uu(Es(R,w));break e}}p=R=Es(R,w),ft!==4&&(ft=2),Oo===null?Oo=[p]:Oo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=ud(p,R,r);Of(p,M);break e;case 1:w=R;var P=p.type,O=p.stateNode;if(!(p.flags&128)&&(typeof P.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Lr===null||!Lr.has(O)))){p.flags|=65536,r&=-r,p.lanes|=r;var K=cd(p,w,r);Of(p,K);break e}}p=p.return}while(p!==null)}qd(o)}catch(oe){r=oe,st===o&&o!==null&&(st=o=o.return);continue}break}while(!0)}function bd(){var t=al.current;return al.current=tl,t===null?tl:t}function Cc(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(_i&268435455)&&!(ll&268435455)||Fr(_t,St)}function pl(t,r){var o=De;De|=2;var u=bd();(_t!==t||St!==r)&&(cr=null,Ei(t,r));do try{Vy();break}catch(h){Bd(t,h)}while(!0);if(ju(),De=o,al.current=u,st!==null)throw Error(n(261));return _t=null,St=0,ft}function Vy(){for(;st!==null;)$d(st)}function Ny(){for(;st!==null&&!ha();)$d(st)}function $d(t){var r=Wd(t.alternate,t,nn);t.memoizedProps=t.pendingProps,r===null?qd(t):st=r,_c.current=null}function qd(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Sy(o,r),o!==null){o.flags&=32767,st=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,st=null;return}}else if(o=Iy(o,r,nn),o!==null){st=o;return}if(r=r.sibling,r!==null){st=r;return}st=r=t}while(r!==null);ft===0&&(ft=5)}function wi(t,r,o){var u=Ae,h=dn.transition;try{dn.transition=null,Ae=1,Dy(t,r,o,u)}finally{dn.transition=h,Ae=u}return null}function Dy(t,r,o,u){do Ss();while(Mr!==null);if(De&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===_t&&(st=_t=null,St=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||cl||(cl=!0,Gd(on,function(){return Ss(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=dn.transition,dn.transition=null;var _=Ae;Ae=1;var w=De;De|=4,_c.current=null,Ry(t,o),Ld(o,t),Jg(Cu),Sr=!!Ru,Cu=Ru=null,t.current=o,Cy(o),cu(),De=w,Ae=_,dn.transition=p}else t.current=o;if(cl&&(cl=!1,Mr=t,hl=h),p=t.pendingLanes,p===0&&(Lr=null),pa(o.stateNode),Wt(t,Be()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(ul)throw ul=!1,t=wc,wc=null,t;return hl&1&&t.tag!==0&&Ss(),p=t.pendingLanes,p&1?t===Tc?Fo++:(Fo=0,Tc=t):Fo=0,Vr(),null}function Ss(){if(Mr!==null){var t=Tr(hl),r=dn.transition,o=Ae;try{if(dn.transition=null,Ae=16>t?16:t,Mr===null)var u=!1;else{if(t=Mr,Mr=null,hl=0,De&6)throw Error(n(331));var h=De;for(De|=4,ne=t.current;ne!==null;){var p=ne,_=p.child;if(ne.flags&16){var w=p.deletions;if(w!==null){for(var R=0;R<w.length;R++){var F=w[R];for(ne=F;ne!==null;){var Q=ne;switch(Q.tag){case 0:case 11:case 15:Lo(8,Q,p)}var W=Q.child;if(W!==null)W.return=Q,ne=W;else for(;ne!==null;){Q=ne;var H=Q.sibling,Z=Q.return;if(kd(Q),Q===F){ne=null;break}if(H!==null){H.return=Z,ne=H;break}ne=Z}}}var re=p.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var tt=ie.sibling;ie.sibling=null,ie=tt}while(ie!==null)}}ne=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,ne=_;else e:for(;ne!==null;){if(p=ne,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Lo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,ne=M;break e}ne=p.return}}var P=t.current;for(ne=P;ne!==null;){_=ne;var O=_.child;if(_.subtreeFlags&2064&&O!==null)O.return=_,ne=O;else e:for(_=P;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:ol(9,w)}}catch(oe){Ye(w,w.return,oe)}if(w===_){ne=null;break e}var K=w.sibling;if(K!==null){K.return=w.return,ne=K;break e}ne=w.return}}if(De=h,Vr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ii,t)}catch{}u=!0}return u}finally{Ae=o,dn.transition=r}}return!1}function Hd(t,r,o){r=Es(o,r),r=ud(t,r,1),t=Dr(t,r,1),r=jt(),t!==null&&(Er(t,1,r),Wt(t,r))}function Ye(t,r,o){if(t.tag===3)Hd(t,t,o);else for(;r!==null;){if(r.tag===3){Hd(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Lr===null||!Lr.has(u))){t=Es(o,t),t=cd(r,t,1),r=Dr(r,t,1),t=jt(),r!==null&&(Er(r,1,t),Wt(r,t));break}}r=r.return}}function xy(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=jt(),t.pingedLanes|=t.suspendedLanes&o,_t===t&&(St&o)===o&&(ft===4||ft===3&&(St&130023424)===St&&500>Be()-Ec?Ei(t,0):vc|=o),Wt(t,r)}function Qd(t,r){r===0&&(t.mode&1?(r=Wi,Wi<<=1,!(Wi&130023424)&&(Wi=4194304)):r=1);var o=jt();t=ar(t,r),t!==null&&(Er(t,r,o),Wt(t,o))}function Ly(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Qd(t,o)}function My(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Qd(t,o)}var Wd;Wd=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)Ht=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Ht=!1,Ty(t,r,o);Ht=!!(t.flags&131072)}else Ht=!1,We&&r.flags&1048576&&Rf(r,$a,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;il(t,r),t=r.pendingProps;var h=fs(r,Vt.current);_s(r,o),h=Yu(null,r,u,t,h,o);var p=Ju();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(u)?(p=!0,ja(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,qu(r),h.updater=nl,r.stateNode=h,h._reactInternals=r,ic(r,u,t,o),r=lc(null,r,u,!0,p,o)):(r.tag=0,We&&p&&Lu(r),zt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(il(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Fy(u),t=Cn(u,t),h){case 0:r=ac(null,r,u,t,o);break e;case 1:r=vd(null,r,u,t,o);break e;case 11:r=pd(null,r,u,t,o);break e;case 14:r=md(null,r,u,Cn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),ac(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),vd(t,r,u,h,o);case 3:e:{if(Ed(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Mf(t,r),Ka(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Es(Error(n(423)),r),r=wd(t,r,u,o,h);break e}else if(u!==h){h=Es(Error(n(424)),r),r=wd(t,r,u,o,h);break e}else for(tn=Cr(r.stateNode.containerInfo.firstChild),en=r,We=!0,Rn=null,o=xf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ms(),u===h){r=ur(t,r,o);break e}zt(t,r,u,o)}r=r.child}return r;case 5:return Uf(r),t===null&&Fu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,Pu(u,h)?_=null:p!==null&&Pu(u,p)&&(r.flags|=32),_d(t,r),zt(t,r,_,o),r.child;case 6:return t===null&&Fu(r),null;case 13:return Td(t,r,o);case 4:return Hu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=gs(r,null,u,o):zt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),pd(t,r,u,h,o);case 7:return zt(t,r,r.pendingProps,o),r.child;case 8:return zt(t,r,r.pendingProps.children,o),r.child;case 12:return zt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,be(Qa,u._currentValue),u._currentValue=_,p!==null)if(An(p.value,_)){if(p.children===h.children&&!$t.current){r=ur(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){_=p.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=lr(-1,o&-o),R.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var Q=F.pending;Q===null?R.next=R:(R.next=Q.next,Q.next=R),F.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),bu(p.return,o,r),w.lanes|=o;break}R=R.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,w=_.alternate,w!==null&&(w.lanes|=o),bu(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}zt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,_s(r,o),h=hn(h),u=u(h),r.flags|=1,zt(t,r,u,o),r.child;case 14:return u=r.type,h=Cn(u,r.pendingProps),h=Cn(u.type,h),md(t,r,u,h,o);case 15:return gd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),il(t,r),r.tag=1,qt(u)?(t=!0,ja(r)):t=!1,_s(r,o),ad(r,u,h),ic(r,u,h,o),lc(null,r,u,!0,t,o);case 19:return Sd(t,r,o);case 22:return yd(t,r,o)}throw Error(n(156,r.tag))};function Gd(t,r){return Hi(t,r)}function Oy(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new Oy(t,r,o,u)}function Pc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fy(t){if(typeof t=="function")return Pc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x)return 11;if(t===Pt)return 14}return 2}function Ur(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ml(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")Pc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case V:return Ti(o.children,h,p,r);case I:_=8,h|=8;break;case A:return t=pn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=pn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Ze:return t=pn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case Ue:return gl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case N:_=9;break e;case x:_=11;break e;case Pt:_=14;break e;case kt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ti(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function gl(t,r,o,u){return t=pn(22,t,u,r),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function kc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Vc(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Uy(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vr(0),this.expirationTimes=vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Nc(t,r,o,u,h,p,_,w,R){return t=new Uy(t,r,o,w,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},qu(p),t}function zy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ne,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Kd(t){if(!t)return kr;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return If(t,o,r)}return r}function Xd(t,r,o,u,h,p,_,w,R){return t=Nc(o,u,!0,t,h,p,_,w,R),t.context=Kd(null),o=t.current,u=jt(),h=Or(o),p=lr(u,h),p.callback=r??null,Dr(o,p,h),t.current.lanes=h,Er(t,h,u),Wt(t,u),t}function yl(t,r,o,u){var h=r.current,p=jt(),_=Or(h);return o=Kd(o),r.context===null?r.context=o:r.pendingContext=o,r=lr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Dr(h,r,_),t!==null&&(Vn(t,h,_,p),Ga(t,h,_)),_}function _l(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yd(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Dc(t,r){Yd(t,r),(t=t.alternate)&&Yd(t,r)}function jy(){return null}var Jd=typeof reportError=="function"?reportError:function(t){console.error(t)};function xc(t){this._internalRoot=t}vl.prototype.render=xc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));yl(t,r,null,null)},vl.prototype.unmount=xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;vi(function(){yl(null,t,null,null)}),r[rr]=null}};function vl(t){this._internalRoot=t}vl.prototype.unstable_scheduleHydration=function(t){if(t){var r=va();t={blockedOn:null,target:t,priority:r};for(var o=0;o<On.length&&r!==0&&r<On[o].priority;o++);On.splice(o,0,t),o===0&&Ta(t)}};function Lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zd(){}function By(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var F=_l(_);p.call(F)}}var _=Xd(r,u,t,0,null,!1,!1,"",Zd);return t._reactRootContainer=_,t[rr]=_.current,wo(t.nodeType===8?t.parentNode:t),vi(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var F=_l(R);w.call(F)}}var R=Nc(t,0,!1,null,null,!1,!1,"",Zd);return t._reactRootContainer=R,t[rr]=R.current,wo(t.nodeType===8?t.parentNode:t),vi(function(){yl(r,R,o,u)}),R}function wl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var w=h;h=function(){var R=_l(_);w.call(R)}}yl(r,_,t,h)}else _=By(o,r,t,h,u);return _l(_)}ya=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=_r(r.pendingLanes);o!==0&&(wr(r,o|1),Wt(r,Be()),!(De&6)&&(Is=Be()+500,Vr()))}break;case 13:vi(function(){var u=ar(t,1);if(u!==null){var h=jt();Vn(u,t,1,h)}}),Dc(t,1)}},Gi=function(t){if(t.tag===13){var r=ar(t,134217728);if(r!==null){var o=jt();Vn(r,t,134217728,o)}Dc(t,134217728)}},_a=function(t){if(t.tag===13){var r=Or(t),o=ar(t,r);if(o!==null){var u=jt();Vn(o,t,r,u)}Dc(t,r)}},va=function(){return Ae},Ea=function(t,r){var o=Ae;try{return Ae=t,r()}finally{Ae=o}},zi=function(t,r,o){switch(r){case"input":if(Hs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Ua(u);if(!h)throw Error(n(90));xi(u),Hs(u,h)}}}break;case"textarea":Fi(t,o);break;case"select":r=o.value,r!=null&&Kn(t,!!o.multiple,r,!1)}},Zr=Ac,to=vi;var by={usingClientEntryPoint:!1,Events:[So,cs,Ua,Ln,eo,Ac]},Uo={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$y={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=io(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||jy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{ii=Tl.inject($y),Xt=Tl}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=by,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lc(r))throw Error(n(200));return zy(t,r,null,o)},Gt.createRoot=function(t,r){if(!Lc(t))throw Error(n(299));var o=!1,u="",h=Jd;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Nc(t,1,!1,null,null,o,!1,u,h),t[rr]=r.current,wo(t.nodeType===8?t.parentNode:t),new xc(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=io(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return vi(t)},Gt.hydrate=function(t,r,o){if(!El(r))throw Error(n(200));return wl(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!Lc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=Jd;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Xd(r,null,t,1,o??null,h,!1,p,_),t[rr]=r.current,wo(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new vl(r)},Gt.render=function(t,r,o){if(!El(r))throw Error(n(200));return wl(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!El(t))throw Error(n(40));return t._reactRootContainer?(vi(function(){wl(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1},Gt.unstable_batchedUpdates=Ac,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!El(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return wl(t,r,o,!1,u)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var ap;function Yy(){if(ap)return Fc.exports;ap=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fc.exports=Xy(),Fc.exports}var lp;function Jy(){if(lp)return Il;lp=1;var i=Yy();return Il.createRoot=i.createRoot,Il.hydrateRoot=i.hydrateRoot,Il}var Zy=Jy();const e_=()=>{const[i,e]=nt.useState([0,0,0,0]),[n,s]=nt.useState(null),a=c=>{i[c]!==4&&(n===c?e(f=>f.map((m,y)=>y===c?m+1:m)):(n!==null&&e(f=>f.map((m,y)=>y===n?m-1:m)),e(f=>f.map((m,y)=>y===c&&m<4?m+1:m)),s(c)))};return ae.jsx(ae.Fragment,{children:ae.jsx("div",{className:"vote-btn-container",children:i.map((c,f)=>ae.jsxs("button",{onClick:()=>a(f),children:["Votes ",c]},f))})})},t_=()=>{const[i,e]=nt.useState(30);return nt.useEffect(()=>{i>0&&setTimeout(()=>e(i-1),1e3)},[i]),ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"timer",children:[ae.jsx("div",{className:"timer-bar"}),ae.jsxs("p",{children:["Time left:",i,"s"]})]})})};function n_(){const[i,e]=nt.useState([]),[n,s]=nt.useState(0),[a,c]=nt.useState([]),[f,m]=nt.useState([]),[y,E]=nt.useState([]);return nt.useState([0,0,0,0]),nt.useState(null),f.splice(Math.floor(Math.random()*(f.length+1)),0,a),nt.useEffect(()=>{fetch("../../response.json").then(T=>T.json()).then(T=>{const C=T.results[n];e(C),m(C.incorrect_answers),c(C.correct_answer),E(C.category)})},[]),ae.jsx("div",{className:"Quiz",children:ae.jsxs(ae.Fragment,{children:[ae.jsx("h4",{className:"category",children:y}),ae.jsxs("h2",{children:['"',i.question,'"']}),ae.jsxs("div",{className:"container",children:[ae.jsx("div",{className:"choices-container",children:f.map((T,C)=>ae.jsx("div",{className:"choices",children:ae.jsxs("p",{children:[C+1,".",T]})},C))}),ae.jsx(e_,{})]}),ae.jsx(t_,{})]})})}const cm=nt.createContext();var up={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},r_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},fm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,E=y?i[a+2]:0,T=c>>2,C=(c&3)<<4|m>>4;let U=(m&15)<<2|E>>6,j=E&63;y||(j=64,f||(U=64)),s.push(n[T],n[C],n[U],n[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(hm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):r_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const E=a<i.length?n[i.charAt(a)]:64;++a;const C=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||E==null||C==null)throw new i_;const U=c<<2|m>>4;if(s.push(U),E!==64){const j=m<<4&240|E>>2;if(s.push(j),C!==64){const Y=E<<6&192|C;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class i_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s_=function(i){const e=hm(i);return fm.encodeByteArray(e,!0)},Ml=function(i){return s_(i).replace(/\./g,"")},o_=function(i){try{return fm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=()=>a_().__FIREBASE_DEFAULTS__,u_=()=>{if(typeof process>"u"||typeof up>"u")return;const i=up.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},c_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&o_(i[1]);return e&&JSON.parse(e)},gh=()=>{try{return l_()||u_()||c_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},h_=i=>{var e,n;return(n=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},f_=i=>{const e=h_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},dm=()=>{var i;return(i=gh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ml(JSON.stringify(n)),Ml(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g_(){var i;const e=(i=gh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y_(){return!g_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function __(){try{return typeof indexedDB=="object"}catch{return!1}}function v_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="FirebaseError";class Us extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=E_,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pm.prototype.create)}}class pm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?w_(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Us(a,m,s)}}function w_(i,e){return i.replace(T_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const T_=/\{\$([^}]+)}/g;function Gc(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(cp(c)&&cp(f)){if(!Gc(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function cp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(i){return i&&i._delegate?i._delegate:i}class Ko{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new d_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A_(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:S_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S_(i){return i===Ii?void 0:i}function A_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const C_={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},P_=Ve.INFO,k_={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},V_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=k_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=P_,this._logHandler=V_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const N_=(i,e)=>e.some(n=>i instanceof n);let hp,fp;function D_(){return hp||(hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x_(){return fp||(fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gm=new WeakMap,Kc=new WeakMap,ym=new WeakMap,jc=new WeakMap,yh=new WeakMap;function L_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Br(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&gm.set(n,i)}).catch(()=>{}),yh.set(e,i),e}function M_(i){if(Kc.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Kc.set(i,e)}let Xc={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Kc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ym.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function O_(i){Xc=i(Xc)}function F_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Bc(this),e,...n);return ym.set(s,e.sort?e.sort():[e]),Br(s)}:x_().includes(i)?function(...e){return i.apply(Bc(this),e),Br(gm.get(this))}:function(...e){return Br(i.apply(Bc(this),e))}}function U_(i){return typeof i=="function"?F_(i):(i instanceof IDBTransaction&&M_(i),N_(i,D_())?new Proxy(i,Xc):i)}function Br(i){if(i instanceof IDBRequest)return L_(i);if(jc.has(i))return jc.get(i);const e=U_(i);return e!==i&&(jc.set(i,e),yh.set(e,i)),e}const Bc=i=>yh.get(i);function z_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=Br(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Br(f.result),y.oldVersion,y.newVersion,Br(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),m}const j_=["get","getKey","getAll","getAllKeys","count"],B_=["put","add","delete","clear"],bc=new Map;function dp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(bc.get(e))return bc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=B_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||j_.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let E=y.store;return s&&(E=E.index(m.shift())),(await Promise.all([E[n](...m),a&&y.done]))[0]};return bc.set(e,c),c}O_(i=>({...i,get:(e,n,s)=>dp(e,n)||i.get(e,n,s),has:(e,n)=>!!dp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yc="@firebase/app",pp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new mm("@firebase/app"),q_="@firebase/app-compat",H_="@firebase/analytics-compat",Q_="@firebase/analytics",W_="@firebase/app-check-compat",G_="@firebase/app-check",K_="@firebase/auth",X_="@firebase/auth-compat",Y_="@firebase/database",J_="@firebase/data-connect",Z_="@firebase/database-compat",ev="@firebase/functions",tv="@firebase/functions-compat",nv="@firebase/installations",rv="@firebase/installations-compat",iv="@firebase/messaging",sv="@firebase/messaging-compat",ov="@firebase/performance",av="@firebase/performance-compat",lv="@firebase/remote-config",uv="@firebase/remote-config-compat",cv="@firebase/storage",hv="@firebase/storage-compat",fv="@firebase/firestore",dv="@firebase/vertexai",pv="@firebase/firestore-compat",mv="firebase",gv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="[DEFAULT]",yv={[Yc]:"fire-core",[q_]:"fire-core-compat",[Q_]:"fire-analytics",[H_]:"fire-analytics-compat",[G_]:"fire-app-check",[W_]:"fire-app-check-compat",[K_]:"fire-auth",[X_]:"fire-auth-compat",[Y_]:"fire-rtdb",[J_]:"fire-data-connect",[Z_]:"fire-rtdb-compat",[ev]:"fire-fn",[tv]:"fire-fn-compat",[nv]:"fire-iid",[rv]:"fire-iid-compat",[iv]:"fire-fcm",[sv]:"fire-fcm-compat",[ov]:"fire-perf",[av]:"fire-perf-compat",[lv]:"fire-rc",[uv]:"fire-rc-compat",[cv]:"fire-gcs",[hv]:"fire-gcs-compat",[fv]:"fire-fst",[pv]:"fire-fst-compat",[dv]:"fire-vertex","fire-js":"fire-js",[mv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Map,_v=new Map,Zc=new Map;function mp(i,e){try{i.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Fl(i){const e=i.name;if(Zc.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Zc.set(e,i);for(const n of Ol.values())mp(n,i);for(const n of _v.values())mp(n,i);return!0}function vv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new pm("app","Firebase",Ev);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=gv;function _m(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jc,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw br.create("bad-app-name",{appName:String(a)});if(n||(n=dm()),!n)throw br.create("no-options");const c=Ol.get(a);if(c){if(Gc(n,c.options)&&Gc(s,c.config))return c;throw br.create("duplicate-app",{appName:a})}const f=new R_(a);for(const y of Zc.values())f.addComponent(y);const m=new wv(n,s,f);return Ol.set(a,m),m}function Iv(i=Jc){const e=Ol.get(i);if(!e&&i===Jc&&dm())return _m();if(!e)throw br.create("no-app",{appName:i});return e}function ks(i,e,n){var s;let a=(s=yv[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(m.join(" "));return}Fl(new Ko(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="firebase-heartbeat-database",Av=1,Xo="firebase-heartbeat-store";let $c=null;function vm(){return $c||($c=z_(Sv,Av,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(i=>{throw br.create("idb-open",{originalErrorMessage:i.message})})),$c}async function Rv(i){try{const n=(await vm()).transaction(Xo),s=await n.objectStore(Xo).get(Em(i));return await n.done,s}catch(e){if(e instanceof Us)fr.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function gp(i,e){try{const s=(await vm()).transaction(Xo,"readwrite");await s.objectStore(Xo).put(e,Em(i)),await s.done}catch(n){if(n instanceof Us)fr.warn(n.message);else{const s=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(s.message)}}}function Em(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=1024,Pv=30*24*60*60*1e3;class kv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=yp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=Pv}),this._storage.overwrite(this._heartbeatsCache))}catch(s){fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yp(),{heartbeatsToSend:s,unsentEntries:a}=Vv(this._heartbeatsCache.heartbeats),c=Ml(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return fr.warn(n),""}}}function yp(){return new Date().toISOString().substring(0,10)}function Vv(i,e=Cv){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),_p(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),_p(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Nv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return __()?v_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Rv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return gp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return gp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _p(i){return Ml(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(i){Fl(new Ko("platform-logger",e=>new b_(e),"PRIVATE")),Fl(new Ko("heartbeat",e=>new kv(e),"PRIVATE")),ks(Yc,pp,i),ks(Yc,pp,"esm2017"),ks("fire-js","")}Dv("");var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,wm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function A(){}A.prototype=I.prototype,V.D=I.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(k,N,x){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return I.prototype[N].apply(k,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,I,A){A||(A=0);var k=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)k[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;16>N;++N)k[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=V.g[0],A=V.g[1],N=V.g[2];var x=V.g[3],S=I+(x^A&(N^x))+k[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=x+(N^I&(A^N))+k[1]+3905402710&4294967295,x=I+(S<<12&4294967295|S>>>20),S=N+(A^x&(I^A))+k[2]+606105819&4294967295,N=x+(S<<17&4294967295|S>>>15),S=A+(I^N&(x^I))+k[3]+3250441966&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(x^A&(N^x))+k[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(N^I&(A^N))+k[5]+1200080426&4294967295,x=I+(S<<12&4294967295|S>>>20),S=N+(A^x&(I^A))+k[6]+2821735955&4294967295,N=x+(S<<17&4294967295|S>>>15),S=A+(I^N&(x^I))+k[7]+4249261313&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(x^A&(N^x))+k[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(N^I&(A^N))+k[9]+2336552879&4294967295,x=I+(S<<12&4294967295|S>>>20),S=N+(A^x&(I^A))+k[10]+4294925233&4294967295,N=x+(S<<17&4294967295|S>>>15),S=A+(I^N&(x^I))+k[11]+2304563134&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(x^A&(N^x))+k[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(N^I&(A^N))+k[13]+4254626195&4294967295,x=I+(S<<12&4294967295|S>>>20),S=N+(A^x&(I^A))+k[14]+2792965006&4294967295,N=x+(S<<17&4294967295|S>>>15),S=A+(I^N&(x^I))+k[15]+1236535329&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(N^x&(A^N))+k[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^N&(I^A))+k[6]+3225465664&4294967295,x=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(x^I))+k[11]+643717713&4294967295,N=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(N^x))+k[0]+3921069994&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^x&(A^N))+k[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^N&(I^A))+k[10]+38016083&4294967295,x=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(x^I))+k[15]+3634488961&4294967295,N=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(N^x))+k[4]+3889429448&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^x&(A^N))+k[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^N&(I^A))+k[14]+3275163606&4294967295,x=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(x^I))+k[3]+4107603335&4294967295,N=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(N^x))+k[8]+1163531501&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^x&(A^N))+k[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^N&(I^A))+k[2]+4243563512&4294967295,x=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(x^I))+k[7]+1735328473&4294967295,N=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(N^x))+k[12]+2368359562&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(A^N^x)+k[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^N)+k[8]+2272392833&4294967295,x=I+(S<<11&4294967295|S>>>21),S=N+(x^I^A)+k[11]+1839030562&4294967295,N=x+(S<<16&4294967295|S>>>16),S=A+(N^x^I)+k[14]+4259657740&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^x)+k[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^N)+k[4]+1272893353&4294967295,x=I+(S<<11&4294967295|S>>>21),S=N+(x^I^A)+k[7]+4139469664&4294967295,N=x+(S<<16&4294967295|S>>>16),S=A+(N^x^I)+k[10]+3200236656&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^x)+k[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^N)+k[0]+3936430074&4294967295,x=I+(S<<11&4294967295|S>>>21),S=N+(x^I^A)+k[3]+3572445317&4294967295,N=x+(S<<16&4294967295|S>>>16),S=A+(N^x^I)+k[6]+76029189&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^x)+k[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^N)+k[12]+3873151461&4294967295,x=I+(S<<11&4294967295|S>>>21),S=N+(x^I^A)+k[15]+530742520&4294967295,N=x+(S<<16&4294967295|S>>>16),S=A+(N^x^I)+k[2]+3299628645&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(N^(A|~x))+k[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~N))+k[7]+1126891415&4294967295,x=I+(S<<10&4294967295|S>>>22),S=N+(I^(x|~A))+k[14]+2878612391&4294967295,N=x+(S<<15&4294967295|S>>>17),S=A+(x^(N|~I))+k[5]+4237533241&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~x))+k[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~N))+k[3]+2399980690&4294967295,x=I+(S<<10&4294967295|S>>>22),S=N+(I^(x|~A))+k[10]+4293915773&4294967295,N=x+(S<<15&4294967295|S>>>17),S=A+(x^(N|~I))+k[1]+2240044497&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~x))+k[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~N))+k[15]+4264355552&4294967295,x=I+(S<<10&4294967295|S>>>22),S=N+(I^(x|~A))+k[6]+2734768916&4294967295,N=x+(S<<15&4294967295|S>>>17),S=A+(x^(N|~I))+k[13]+1309151649&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~x))+k[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~N))+k[11]+3174756917&4294967295,x=I+(S<<10&4294967295|S>>>22),S=N+(I^(x|~A))+k[2]+718787259&4294967295,N=x+(S<<15&4294967295|S>>>17),S=A+(x^(N|~I))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var A=I-this.blockSize,k=this.B,N=this.h,x=0;x<I;){if(N==0)for(;x<=A;)a(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<I;)if(k[N++]=V.charCodeAt(x++),N==this.blockSize){a(this,k),N=0;break}}else for(;x<I;)if(k[N++]=V[x++],N==this.blockSize){a(this,k),N=0;break}}this.h=N,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var A=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=A&255,A/=256;for(this.u(V),V=Array(16),I=A=0;4>I;++I)for(var k=0;32>k;k+=8)V[A++]=this.g[I]>>>k&255;return V};function c(V,I){var A=m;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=I(V)}function f(V,I){this.h=I;for(var A=[],k=!0,N=V.length-1;0<=N;N--){var x=V[N]|0;k&&x==I||(A[N]=x,k=!1)}this.g=A}var m={};function y(V){return-128<=V&&128>V?c(V,function(I){return new f([I|0],0>I?-1:0)}):new f([V|0],0>V?-1:0)}function E(V){if(isNaN(V)||!isFinite(V))return C;if(0>V)return $(E(-V));for(var I=[],A=1,k=0;V>=A;k++)I[k]=V/A|0,A*=4294967296;return new f(I,0)}function T(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return $(T(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(I,8)),k=C,N=0;N<V.length;N+=8){var x=Math.min(8,V.length-N),S=parseInt(V.substring(N,N+x),I);8>x?(x=E(Math.pow(I,x)),k=k.j(x).add(E(S))):(k=k.j(A),k=k.add(E(S)))}return k}var C=y(0),U=y(1),j=y(16777216);i=f.prototype,i.m=function(){if(G(this))return-$(this).m();for(var V=0,I=1,A=0;A<this.g.length;A++){var k=this.i(A);V+=(0<=k?k:4294967296+k)*I,I*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Y(this))return"0";if(G(this))return"-"+$(this).toString(V);for(var I=E(Math.pow(V,6)),A=this,k="";;){var N=Se(A,I).g;A=de(A,N.j(I));var x=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=N,Y(A))return x+k;for(;6>x.length;)x="0"+x;k=x+k}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Y(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function G(V){return V.h==-1}i.l=function(V){return V=de(this,V),G(V)?-1:Y(V)?0:1};function $(V){for(var I=V.g.length,A=[],k=0;k<I;k++)A[k]=~V.g[k];return new f(A,~V.h).add(U)}i.abs=function(){return G(this)?$(this):this},i.add=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0,N=0;N<=I;N++){var x=k+(this.i(N)&65535)+(V.i(N)&65535),S=(x>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);k=S>>>16,x&=65535,S&=65535,A[N]=S<<16|x}return new f(A,A[A.length-1]&-2147483648?-1:0)};function de(V,I){return V.add($(I))}i.j=function(V){if(Y(this)||Y(V))return C;if(G(this))return G(V)?$(this).j($(V)):$($(this).j(V));if(G(V))return $(this.j($(V)));if(0>this.l(j)&&0>V.l(j))return E(this.m()*V.m());for(var I=this.g.length+V.g.length,A=[],k=0;k<2*I;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<V.g.length;N++){var x=this.i(k)>>>16,S=this.i(k)&65535,Ze=V.i(N)>>>16,Pt=V.i(N)&65535;A[2*k+2*N]+=S*Pt,ge(A,2*k+2*N),A[2*k+2*N+1]+=x*Pt,ge(A,2*k+2*N+1),A[2*k+2*N+1]+=S*Ze,ge(A,2*k+2*N+1),A[2*k+2*N+2]+=x*Ze,ge(A,2*k+2*N+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new f(A,0)};function ge(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function ve(V,I){this.g=V,this.h=I}function Se(V,I){if(Y(I))throw Error("division by zero");if(Y(V))return new ve(C,C);if(G(V))return I=Se($(V),I),new ve($(I.g),$(I.h));if(G(I))return I=Se(V,$(I)),new ve($(I.g),I.h);if(30<V.g.length){if(G(V)||G(I))throw Error("slowDivide_ only works with positive integers.");for(var A=U,k=I;0>=k.l(V);)A=Je(A),k=Je(k);var N=Ne(A,1),x=Ne(k,1);for(k=Ne(k,2),A=Ne(A,2);!Y(k);){var S=x.add(k);0>=S.l(V)&&(N=N.add(A),x=S),k=Ne(k,1),A=Ne(A,1)}return I=de(V,N.j(I)),new ve(N,I)}for(N=C;0<=V.l(I);){for(A=Math.max(1,Math.floor(V.m()/I.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),x=E(A),S=x.j(I);G(S)||0<S.l(V);)A-=k,x=E(A),S=x.j(I);Y(x)&&(x=U),N=N.add(x),V=de(V,S)}return new ve(N,V)}i.A=function(V){return Se(this,V).h},i.and=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)&V.i(k);return new f(A,this.h&V.h)},i.or=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)|V.i(k);return new f(A,this.h|V.h)},i.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)^V.i(k);return new f(A,this.h^V.h)};function Je(V){for(var I=V.g.length+1,A=[],k=0;k<I;k++)A[k]=V.i(k)<<1|V.i(k-1)>>>31;return new f(A,V.h)}function Ne(V,I){var A=I>>5;I%=32;for(var k=V.g.length-A,N=[],x=0;x<k;x++)N[x]=0<I?V.i(x+A)>>>I|V.i(x+A+1)<<32-I:V.i(x+A);return new f(N,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,wm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=T,Ai=f}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});var Sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tm,jo,Im,kl,eh,Sm,Am,Rm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sl=="object"&&Sl];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var L=l[v];if(!(L in g))break e;g=g[L]}l=l[l.length-1],v=g[l],d=d(v),d!=v&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,v=!1,L={next:function(){if(!v&&g<l.length){var z=g++;return{value:d(z,l[z]),done:!1}}return v=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function E(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function T(l,d,g){return l.call.apply(l.bind,arguments)}function C(l,d,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,v),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function U(l,d,g){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:C,U.apply(null,arguments)}function j(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function Y(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,L,z){for(var X=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)X[Fe-2]=arguments[Fe];return d.prototype[L].apply(v,X)}}function G(l){const d=l.length;if(0<d){const g=Array(d);for(let v=0;v<d;v++)g[v]=l[v];return g}return[]}function $(l,d){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(y(v)){const L=l.length||0,z=v.length||0;l.length=L+z;for(let X=0;X<z;X++)l[L+X]=v[X]}else l.push(v)}}class de{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ge(l){return/^[\s\xa0]*$/.test(l)}function ve(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Se(l){return Se[" "](l),l}Se[" "]=function(){};var Je=ve().indexOf("Gecko")!=-1&&!(ve().toLowerCase().indexOf("webkit")!=-1&&ve().indexOf("Edge")==-1)&&!(ve().indexOf("Trident")!=-1||ve().indexOf("MSIE")!=-1)&&ve().indexOf("Edge")==-1;function Ne(l,d,g){for(const v in l)d.call(g,l[v],v,l)}function V(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function I(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let g,v;for(let L=1;L<arguments.length;L++){v=arguments[L];for(g in v)l[g]=v[g];for(let z=0;z<A.length;z++)g=A[z],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function N(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function x(l){m.setTimeout(()=>{throw l},0)}function S(){var l=ce;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,g){const v=Pt.get();v.set(d,g),this.h?this.h.next=v:this.g=v,this.h=v}}var Pt=new de(()=>new kt,l=>l.reset());class kt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,J=!1,ce=new Ze,ee=()=>{const l=m.Promise.resolve(void 0);Ue=()=>{l.then(D)}};var D=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){x(g)}var d=Pt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}J=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function we(l,d){if(le.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Je){e:{try{Se(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ce[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&we.aa.h.call(this)}}Y(we,le);var Ce={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function je(l,d,g,v,L){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!v,this.ha=L,this.key=++Me,this.da=this.fa=!1}function mt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Wn(l){this.src=l,this.g={},this.h=0}Wn.prototype.add=function(l,d,g,v,L){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var X=mr(l,d,v,L);return-1<X?(d=l[X],g||(d.fa=!1)):(d=new je(d,this.src,z,!!v,L),d.fa=g,l.push(d)),d};function xi(l,d){var g=d.type;if(g in l.g){var v=l.g[g],L=Array.prototype.indexOf.call(v,d,void 0),z;(z=0<=L)&&Array.prototype.splice.call(v,L,1),z&&(mt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function mr(l,d,g,v){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==d&&z.capture==!!g&&z.ha==v)return L}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),Li={};function qs(l,d,g,v,L){if(Array.isArray(d)){for(var z=0;z<d.length;z++)qs(l,d[z],g,v,L);return null}return g=Ws(g),l&&l[Le]?l.K(d,g,E(v)?!!v.capture:!!v,L):Hs(l,d,g,!1,v,L)}function Hs(l,d,g,v,L,z){if(!d)throw Error("Invalid event type");var X=E(L)?!!L.capture:!!L,Fe=Oi(l);if(Fe||(l[Kr]=Fe=new Wn(l)),g=Fe.add(d,g,v,X,z),g.proxy)return g;if(v=la(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)Ee||(L=X),L===void 0&&(L=!1),l.addEventListener(d.toString(),v,L);else if(l.attachEvent)l.attachEvent(Kn(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function la(){function l(g){return d.call(l.src,l.listener,g)}const d=Qs;return l}function Mi(l,d,g,v,L){if(Array.isArray(d))for(var z=0;z<d.length;z++)Mi(l,d[z],g,v,L);else v=E(v)?!!v.capture:!!v,g=Ws(g),l&&l[Le]?(l=l.i,d=String(d).toString(),d in l.g&&(z=l.g[d],g=mr(z,g,v,L),-1<g&&(mt(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete l.g[d],l.h--)))):l&&(l=Oi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=mr(d,g,v,L)),(g=-1<l?d[l]:null)&&Gn(g))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Le])xi(d.i,l);else{var g=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(g,v,l.capture):d.detachEvent?d.detachEvent(Kn(g),v):d.addListener&&d.removeListener&&d.removeListener(v),(g=Oi(d))?(xi(g,l),g.h==0&&(g.src=null,d[Kr]=null)):mt(l)}}}function Kn(l){return l in Li?Li[l]:Li[l]="on"+l}function Qs(l,d){if(l.da)l=!0;else{d=new we(d,this);var g=l.listener,v=l.ha||l.src;l.fa&&Gn(l),l=g.call(v,d)}return l}function Oi(l){return l=l[Kr],l instanceof Wn?l:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ws(l){return typeof l=="function"?l:(l[Fi]||(l[Fi]=function(d){return l.handleEvent(d)}),l[Fi])}function lt(){b.call(this),this.i=new Wn(this),this.M=this,this.F=null}Y(lt,b),lt.prototype[Le]=!0,lt.prototype.removeEventListener=function(l,d,g,v){Mi(this,l,d,g,v)};function ut(l,d){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new le(d,l);else if(d instanceof le)d.target=d.target||l;else{var L=d;d=new le(v,l),k(d,L)}if(L=!0,g)for(var z=g.length-1;0<=z;z--){var X=d.g=g[z];L=Xn(X,v,!0,d)&&L}if(X=d.g=l,L=Xn(X,v,!0,d)&&L,L=Xn(X,v,!1,d)&&L,g)for(z=0;z<g.length;z++)X=d.g=g[z],L=Xn(X,v,!1,d)&&L}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],v=0;v<g.length;v++)mt(g[v]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,g,v){return this.i.add(String(l),d,!1,g,v)},lt.prototype.L=function(l,d,g,v){return this.i.add(String(l),d,!0,g,v)};function Xn(l,d,g,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,z=0;z<d.length;++z){var X=d[z];if(X&&!X.da&&X.capture==g){var Fe=X.listener,ct=X.ha||X.src;X.fa&&xi(l.i,X),L=Fe.call(ct,v)!==!1&&L}}return L&&!v.defaultPrevented}function Gs(l,d,g){if(typeof l=="function")g&&(l=U(l,g));else if(l&&typeof l.handleEvent=="function")l=U(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function gr(l){l.g=Gs(()=>{l.g=null,l.i&&(l.i=!1,gr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Xr extends b{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(l){b.call(this),this.h=l,this.g={}}Y(Yr,b);var Ks=[];function Xs(l){Ne(l.g,function(d,g){this.g.hasOwnProperty(g)&&Gn(d)},l),l.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Xs(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=m.JSON.stringify,Js=m.JSON.parse,Zs=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function Jr(){}Jr.prototype.h=null;function Ui(l){return l.h||(l.h=l.i())}function zi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){le.call(this,"d")}Y(xn,le);function ji(){le.call(this,"c")}Y(ji,le);var Ln={},eo=null;function Zr(){return eo=eo||new lt}Ln.La="serverreachability";function to(l){le.call(this,Ln.La,l)}Y(to,le);function Yn(l){const d=Zr();ut(d,new to(d))}Ln.STAT_EVENT="statevent";function no(l,d){le.call(this,Ln.STAT_EVENT,l),this.stat=d}Y(no,le);function et(l){const d=Zr();ut(d,new no(d,l))}Ln.Ma="timingevent";function Bi(l,d){le.call(this,Ln.Ma,l),this.size=d}Y(Bi,le);function gn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ei(){this.g=!0}ei.prototype.xa=function(){this.g=!1};function ti(l,d,g,v,L,z){l.info(function(){if(l.g)if(z)for(var X="",Fe=z.split("&"),ct=0;ct<Fe.length;ct++){var Pe=Fe[ct].split("=");if(1<Pe.length){var gt=Pe[0];Pe=Pe[1];var it=gt.split("_");X=2<=it.length&&it[1]=="type"?X+(gt+"="+Pe+"&"):X+(gt+"=redacted&")}}else X=null;else X=z;return"XMLHTTP REQ ("+v+") [attempt "+L+"]: "+d+`
`+g+`
`+X})}function bi(l,d,g,v,L,z,X){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+L+"]: "+d+`
`+g+`
`+z+" "+X})}function yn(l,d,g,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+uu(l,g)+(v?" "+v:"")})}function ro(l,d){l.info(function(){return"TIMEOUT: "+d})}ei.prototype.info=function(){};function uu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var L=v[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var X=1;X<L.length;X++)L[X]=""}}}}return Ys(g)}catch{return d}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ua={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_n;function ni(){}Y(ni,Jr),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},_n=new ni;function vn(l,d,g,v){this.j=l,this.i=d,this.l=g,this.R=v||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ca}function ca(){this.i=null,this.g="",this.h=!1}var io={},qi={};function Hi(l,d,g){l.L=1,l.v=wr(Yt(d)),l.m=g,l.P=!0,so(l,null)}function so(l,d){l.F=Date.now(),Be(l),l.A=Yt(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Ir(g.i,"t",v),l.C=0,g=l.j.J,l.h=new ca,l.g=Pa(l.j,g?d:null,!l.m),0<l.O&&(l.M=new Xr(U(l.Y,l,l.g),l.O)),d=l.U,g=l.g,v=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ks[0]=L.toString()),L=Ks);for(var z=0;z<L.length;z++){var X=qs(g,L[z],v||d.handleEvent,!1,d.h||d);if(!X)break;d.g[X.key]=X}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Yn(),ti(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const d=this.M;d&&bt(l)==3?d.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const it=bt(this.g);var d=this.g.Ba();const ln=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||ho(this.g)))){this.J||it!=4||d==7||(d==8||0>=ln?Yn(3):Yn(2)),ri(this);var g=this.g.Z();this.X=g;t:if(ha(this)){var v=ho(this.g);l="";var L=v.length,z=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),yr(this);var X="";break t}this.h.i=new m.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(z&&d==L-1)});v.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,bi(this.i,this.u,this.A,this.l,this.R,it,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,ct=this.g;if((Fe=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(Fe)){var Pe=Fe;break t}}Pe=null}if(g=Pe)yn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oo(this,g);else{this.o=!1,this.s=3,et(12),on(this),yr(this);break e}}if(this.P){g=!0;let Zt;for(;!this.J&&this.C<X.length;)if(Zt=cu(this,X),Zt==qi){it==4&&(this.s=4,et(14),g=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==io){this.s=4,et(15),yn(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else yn(this.i,this.l,Zt,null),oo(this,Zt);if(ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||X.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)yn(this.i,this.l,X,"[Invalid Chunked Response]"),on(this),yr(this);else if(0<X.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),po(gt),gt.M=!0,et(11))}}else yn(this.i,this.l,X,null),oo(this,X);it==4&&on(this),this.o&&!this.J&&(it==4?ns(this.j,this):(this.o=!1,Be(this)))}else Yi(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),on(this),yr(this)}}}catch{}finally{}};function ha(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function cu(l,d){var g=l.C,v=d.indexOf(`
`,g);return v==-1?qi:(g=Number(d.substring(g,v)),isNaN(g)?io:(v+=1,v+g>d.length?qi:(d=d.slice(v,v+g),l.C=v+g,d)))}vn.prototype.cancel=function(){this.J=!0,on(this)};function Be(l){l.S=Date.now()+l.I,fa(l,l.I)}function fa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=gn(U(l.ba,l),d)}function ri(l){l.B&&(m.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ro(this.i,this.A),this.L!=2&&(Yn(),et(17)),on(this),this.s=2,yr(this)):fa(this,this.S-l)};function yr(l){l.j.G==0||l.J||ns(l.j,l)}function on(l){ri(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Xs(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function oo(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Ft(g.h,l))){if(!l.K&&Ft(g.h,l)&&g.G==3){try{var v=g.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var L=v;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)ts(g),Sn(g);else break e;es(g),et(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=gn(U(g.Za,g),6e3));if(1>=pa(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else nr(g,11)}else if((l.K||g.g==l)&&ts(g),!ge(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let Pe=L[d];if(g.T=Pe[0],Pe=Pe[1],g.G==2)if(Pe[0]=="c"){g.K=Pe[1],g.ia=Pe[2];const gt=Pe[3];gt!=null&&(g.la=gt,g.j.info("VER="+g.la));const it=Pe[4];it!=null&&(g.Aa=it,g.j.info("SVER="+g.Aa));const ln=Pe[5];ln!=null&&typeof ln=="number"&&0<ln&&(v=1.5*ln,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const Zt=l.g;if(Zt){const ci=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var z=v.h;z.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ao(z,z.h),z.h=null))}if(v.D){const is=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(v.ya=is,ze(v.I,v.D,is))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var X=l;if(v.qa=Ca(v,v.J?v.ia:null,v.W),X.K){ma(v.h,X);var Fe=X,ct=v.L;ct&&(Fe.I=ct),Fe.B&&(ri(Fe),Be(Fe)),v.g=X}else ui(v);0<g.i.length&&Un(g)}else Pe[0]!="stop"&&Pe[0]!="close"||nr(g,7);else g.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?nr(g,7):Tt(g):Pe[0]!="noop"&&g.l&&g.l.ta(Pe),g.v=0)}}Yn(4)}catch{}}var da=class{constructor(l,d){this.g=l,this.map=d}};function ii(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function pa(l){return l.h?1:l.g?l.g.size:0}function Ft(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function ao(l,d){l.g?l.g.add(d):l.h=d}function ma(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ii.prototype.cancel=function(){if(this.i=ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ga(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return G(l.i)}function Qi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,v=0;v<g;v++)d.push(l[v]);return d}d=[],g=0;for(v in l)d[g++]=l[v];return d}function Wi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const v in l)d[g++]=v;return d}}}function _r(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Wi(l),v=Qi(l),L=v.length,z=0;z<L;z++)d.call(void 0,v[z],g&&g[z],l)}var si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hu(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),L=null;if(0<=v){var z=l[g].substring(0,v);L=l[g].substring(v+1)}else z=l[g];d(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Jn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Jn){this.h=l.h,oi(this,l.j),this.o=l.o,this.g=l.g,vr(this,l.s),this.l=l.l;var d=l.i,g=new Mn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Er(this,g),this.m=l.m}else l&&(d=String(l).match(si))?(this.h=!1,oi(this,d[1]||"",!0),this.o=Ae(d[2]||""),this.g=Ae(d[3]||"",!0),vr(this,d[4]),this.l=Ae(d[5]||"",!0),Er(this,d[6]||"",!0),this.m=Ae(d[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}Jn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Tr(d,Gi,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Tr(d,Gi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Tr(g,g.charAt(0)=="/"?va:_a,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Tr(g,lo)),l.join("")};function Yt(l){return new Jn(l)}function oi(l,d,g){l.j=g?Ae(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function vr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Er(l,d,g){d instanceof Mn?(l.i=d,On(l.i,l.h)):(g||(d=Tr(d,Ea)),l.i=new Mn(d,l.h))}function ze(l,d,g){l.i.set(d,g)}function wr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ae(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Tr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,ya),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ya(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gi=/[#\/\?@]/g,_a=/[#\?:]/g,va=/[#\?]/g,Ea=/[#\?@]/g,lo=/#/g;function Mn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function wt(l){l.g||(l.g=new Map,l.h=0,l.i&&hu(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Mn.prototype,i.add=function(l,d){wt(this),this.i=null,l=an(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function En(l,d){wt(l),d=an(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function wn(l,d){return wt(l),d=an(l,d),l.g.has(d)}i.forEach=function(l,d){wt(this),this.g.forEach(function(g,v){g.forEach(function(L){l.call(d,L,v,this)},this)},this)},i.na=function(){wt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let v=0;v<d.length;v++){const L=l[v];for(let z=0;z<L.length;z++)g.push(d[v])}return g},i.V=function(l){wt(this);let d=[];if(typeof l=="string")wn(this,l)&&(d=d.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return wt(this),this.i=null,l=an(this,l),wn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ir(l,d,g){En(l,d),0<g.length&&(l.i=null,l.g.set(an(l,d),G(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var v=d[g];const z=encodeURIComponent(String(v)),X=this.V(v);for(v=0;v<X.length;v++){var L=z;X[v]!==""&&(L+="="+encodeURIComponent(String(X[v]))),l.push(L)}}return this.i=l.join("&")};function an(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function On(l,d){d&&!l.j&&(wt(l),l.i=null,l.g.forEach(function(g,v){var L=v.toLowerCase();v!=L&&(En(this,v),Ir(this,L,g))},l)),l.j=d}function fu(l,d){const g=new ei;if(m.Image){const v=new Image;v.onload=j(Bt,g,"TestLoadImage: loaded",!0,d,v),v.onerror=j(Bt,g,"TestLoadImage: error",!1,d,v),v.onabort=j(Bt,g,"TestLoadImage: abort",!1,d,v),v.ontimeout=j(Bt,g,"TestLoadImage: timeout",!1,d,v),m.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function wa(l,d){const g=new ei,v=new AbortController,L=setTimeout(()=>{v.abort(),Bt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(z=>{clearTimeout(L),z.ok?Bt(g,"TestPingServer: ok",!0,d):Bt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Bt(g,"TestPingServer: error",!1,d)})}function Bt(l,d,g,v,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),v(g)}catch{}}function du(){this.g=new Zs}function Ta(l,d,g){const v=g||"";try{_r(l,function(L,z){let X=L;E(L)&&(X=Ys(L)),d.push(v+z+"="+encodeURIComponent(X))})}catch(L){throw d.push(v+"type="+encodeURIComponent("_badmap")),L}}function Zn(l){this.l=l.Ub||null,this.j=l.eb||!1}Y(Zn,Jr),Zn.prototype.g=function(){return new ai(this.l,this.j)},Zn.prototype.i=function(l){return function(){return l}}({});function ai(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(ai,lt),i=ai.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ia(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ia(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Tn(this):In(this),this.readyState==3&&Ia(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Tn(this))},i.Qa=function(l){this.g&&(this.response=l,Tn(this))},i.ga=function(){this.g&&Tn(this)};function Tn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function er(l){let d="";return Ne(l,function(g,v){d+=v,d+=":",d+=g,d+=`\r
`}),d}function Sr(l,d,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=er(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ze(l,d,g))}function Qe(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Qe,lt);var pu=/^https?$/i,uo=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_n.g(),this.v=this.o?Ui(this.o):Ui(_n),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(z){li(this,z);return}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var L in v)g.set(L,v[L]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const z of v.keys())g.set(z,v.get(z));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(uo,d,void 0))||v||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,X]of g)this.g.setRequestHeader(z,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){li(this,z)}};function li(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Ki(l),Jt(l)}function Ki(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Jt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},i.bb=function(){co(this)};function co(l){if(l.h&&typeof f<"u"&&(!l.v[1]||bt(l)!=4||l.Z()!=2)){if(l.u&&bt(l)==4)Gs(l.Ea,0,l);else if(ut(l,"readystatechange"),bt(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var v;if(v=X===0){var L=String(l.D).match(si)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),v=!pu.test(L?L.toLowerCase():"")}g=v}if(g)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var z=2<bt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",Ki(l)}}finally{Jt(l)}}}}function Jt(l,d){if(l.g){Xi(l);const g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{g.onreadystatechange=v}catch{}}}function Xi(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Js(d)}};function ho(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(l){const d={};l=(l.g&&2<=bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(ge(l[v]))continue;var g=N(l[v]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=d[L]||[];d[L]=z,z.push(g)}V(d,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function fo(l){this.Aa=0,this.i=[],this.j=new ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(l&&l.concurrentRequestLimit),this.Da=new du,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=fo.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,v){et(0),this.W=l,this.H=d||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Ca(this,null,this.W),Un(this)};function Tt(l){if(Ji(l),l.G==3){var d=l.U++,g=Yt(l.I);if(ze(g,"SID",l.K),ze(g,"RID",d),ze(g,"TYPE","terminate"),tr(l,g),d=new vn(l,l.j,d),d.L=2,d.v=wr(Yt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=Pa(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Be(d)}Ra(l)}function Sn(l){l.g&&(po(l),l.g.cancel(),l.g=null)}function Ji(l){Sn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Un(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ue||ee(),J||(Ue(),J=!0),ce.add(d,l),l.B=0}}function mu(l,d){return pa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=gn(U(l.Ga,l,d),Aa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new vn(this,this.j,l);let z=this.o;if(this.S&&(z?(z=I(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Ar(this,L,d),g=Yt(this.I),ze(g,"RID",l),ze(g,"CVER",22),this.D&&ze(g,"X-HTTP-Session-Id",this.D),tr(this,g),z&&(this.O?d="headers="+encodeURIComponent(String(er(z)))+"&"+d:this.m&&Sr(g,this.m,z)),ao(this.h,L),this.Ua&&ze(g,"TYPE","init"),this.P?(ze(g,"$req",d),ze(g,"SID","null"),L.T=!0,Hi(L,g,null)):Hi(L,g,d),this.G=2}}else this.G==3&&(l?Zi(this,l):this.i.length==0||Xt(this.h)||Zi(this))};function Zi(l,d){var g;d?g=d.l:g=l.U++;const v=Yt(l.I);ze(v,"SID",l.K),ze(v,"RID",g),ze(v,"AID",l.T),tr(l,v),l.m&&l.o&&Sr(v,l.m,l.o),g=new vn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Ar(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ao(l.h,g),Hi(g,v,d)}function tr(l,d){l.H&&Ne(l.H,function(g,v){ze(d,v,g)}),l.l&&_r({},function(g,v){ze(d,v,g)})}function Ar(l,d,g){g=Math.min(l.i.length,g);var v=l.l?U(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const X=["count="+g];z==-1?0<g?(z=L[0].g,X.push("ofs="+z)):z=0:X.push("ofs="+z);let Fe=!0;for(let ct=0;ct<g;ct++){let Pe=L[ct].g;const gt=L[ct].map;if(Pe-=z,0>Pe)z=Math.max(0,L[ct].g-100),Fe=!1;else try{Ta(gt,X,"req"+Pe+"_")}catch{v&&v(gt)}}if(Fe){v=X.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,v}function ui(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ue||ee(),J||(Ue(),J=!0),ce.add(d,l),l.v=0}}function es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=gn(U(l.Fa,l),Aa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Sa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=gn(U(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Sn(this),Sa(this))};function po(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Sa(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Yt(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),tr(l,d),l.m&&l.o&&Sr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=wr(Yt(d)),g.m=null,g.P=!0,so(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),es(this),et(19))};function ts(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ns(l,d){var g=null;if(l.g==d){ts(l),po(l),l.g=null;var v=2}else if(Ft(l.h,d))g=d.D,ma(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;v=Zr(),ut(v,new Bi(v,g)),Un(l)}else ui(l);else if(L=d.s,L==3||L==0&&0<d.X||!(v==1&&mu(l,d)||v==2&&es(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),L){case 1:nr(l,5);break;case 4:nr(l,10);break;case 3:nr(l,6);break;default:nr(l,2)}}}function Aa(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function nr(l,d){if(l.j.info("Error code "+d),d==2){var g=U(l.fb,l),v=l.Xa;const L=!v;v=new Jn(v||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||oi(v,"https"),wr(v),L?fu(v.toString(),g):wa(v.toString(),g)}else et(2);l.G=0,l.l&&l.l.sa(d),Ra(l),Ji(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Ra(l){if(l.G=0,l.ka=[],l.l){const d=ga(l.h);(d.length!=0||l.i.length!=0)&&($(l.ka,d),$(l.ka,l.i),l.h.i.length=0,G(l.i),l.i.length=0),l.l.ra()}}function Ca(l,d,g){var v=g instanceof Jn?Yt(g):new Jn(g);if(v.g!="")d&&(v.g=d+"."+v.g),vr(v,v.s);else{var L=m.location;v=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var z=new Jn(null);v&&oi(z,v),d&&(z.g=d),L&&vr(z,L),g&&(z.l=g),v=z}return g=l.D,d=l.ya,g&&d&&ze(v,g,d),ze(v,"VER",l.la),tr(l,v),v}function Pa(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new Zn({eb:g})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mo(){}i=mo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function rs(){}rs.prototype.g=function(l,d){return new Ut(l,d)};function Ut(l,d){lt.call(this),this.g=new fo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ge(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ge(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new zn(this)}Y(Ut,lt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Tt(this.g)},Ut.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Ys(l),l=g);d.i.push(new da(d.Ya++,l)),d.G==3&&Un(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Tt(this.g),delete this.g,Ut.aa.N.call(this)};function ka(l){xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}Y(ka,xn);function Va(){ji.call(this),this.status=1}Y(Va,ji);function zn(l){this.g=l}Y(zn,mo),zn.prototype.ua=function(){ut(this.g,"a")},zn.prototype.ta=function(l){ut(this.g,new ka(l))},zn.prototype.sa=function(l){ut(this.g,new Va)},zn.prototype.ra=function(){ut(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Rm=function(){return new rs},Am=function(){return Zr()},Sm=Ln,eh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,kl=$i,ua.COMPLETE="complete",Im=ua,zi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,jo=zi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Tm=Qe}).apply(typeof Sl<"u"?Sl:typeof self<"u"?self:typeof window<"u"?window:{});const Ep="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new mm("@firebase/firestore");function As(){return Pi.logLevel}function te(i,...e){if(Pi.logLevel<=Ve.DEBUG){const n=e.map(_h);Pi.debug(`Firestore (${zs}): ${i}`,...n)}}function dr(i,...e){if(Pi.logLevel<=Ve.ERROR){const n=e.map(_h);Pi.error(`Firestore (${zs}): ${i}`,...n)}}function Ns(i,...e){if(Pi.logLevel<=Ve.WARN){const n=e.map(_h);Pi.warn(`Firestore (${zs}): ${i}`,...n)}}function _h(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(i="Unexpected state"){const e=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: `+i;throw dr(e),new Error(e)}function Oe(i,e){i||me()}function _e(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class Lv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mv{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ri,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ri)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Oe(typeof s.accessToken=="string"),new Cm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Mt(e)}}class Ov{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Fv{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Ov(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new Uv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=jv(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Re(i,e){return i<e?-1:i>e?1:0}function Ds(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new dt(0,0))}static max(){return new ye(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,s){n===void 0?n=0:n>e.length&&me(),s===void 0?s=e.length-n:s>e.length-n&&me(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Yo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yo?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends Yo{construct(e,n,s){return new He(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new He(n)}static emptyPath(){return new He([])}}const Bv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Yo{construct(e,n,s){return new Rt(e,n,s)}static isValidIdentifier(e){return Bv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new se(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new se(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new se(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new se(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(He.fromString(e))}static fromName(e){return new ue(He.fromString(e).popFirst(5))}static empty(){return new ue(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new He(e.slice()))}}function bv(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ye.fromTimestamp(s===1e9?new dt(n+1,0):new dt(n,s));return new qr(a,ue.empty(),e)}function $v(i){return new qr(i.readTime,i.key,-1)}class qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new qr(ye.min(),ue.empty(),-1)}static max(){return new qr(ye.max(),ue.empty(),-1)}}function qv(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(i.documentKey,e.documentKey),n!==0?n:Re(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(i){if(i.code!==q.FAILED_PRECONDITION||i.message!==Hv)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,s)=>{n(e)})}static reject(e){return new B((n,s)=>{s(e)})}static waitFor(e){return new B((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=B.resolve(!1);for(const s of e)n=n.next(a=>a?B.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new B((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const E=y;n(e[E]).next(T=>{f[E]=T,++m,m===c&&s(f)},T=>a(T))}})}static doWhile(e,n){return new B((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function Wv(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kl.oe=-1;function Xl(i){return i==null}function Ul(i){return i===0&&1/i==-1/0}function Gv(i){return typeof i=="number"&&Number.isInteger(i)&&!Ul(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=wp(e)),e=Xv(i.get(n),e);return wp(e)}function Xv(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function wp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ki(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function km(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=c??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new At(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,s,a,c){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ip(this.data.getIterator())}getIteratorFrom(e){return new Ip(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class Ip{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new pt(Rt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Vm("Invalid base64 string: "+c):c}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const Yv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(i){if(Oe(!!i),typeof i=="string"){let e=0;const n=Yv.exec(i);if(Oe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rt(i.seconds),nanos:rt(i.nanos)}}function rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qr(i){return typeof i=="string"?Ct.fromBase64String(i):Ct.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yl(i){const e=i.mapValue.fields.__previous_value__;return vh(e)?Yl(e):e}function Jo(i){const e=Hr(i.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,s,a,c,f,m,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=E}}class Zo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vh(i)?4:e0(i)?9007199254740991:Zv(i)?10:11:me()}function Qn(i,e){if(i===e)return!0;const n=Wr(i);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jo(i).isEqual(Jo(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Hr(a.timestampValue),m=Hr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Qr(a.bytesValue).isEqual(Qr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return rt(a.geoPointValue.latitude)===rt(c.geoPointValue.latitude)&&rt(a.geoPointValue.longitude)===rt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return rt(a.integerValue)===rt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=rt(a.doubleValue),m=rt(c.doubleValue);return f===m?Ul(f)===Ul(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ds(i.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Tp(f)!==Tp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Qn(f[y],m[y])))return!1;return!0}(i,e);default:return me()}}function ea(i,e){return(i.values||[]).find(n=>Qn(n,e))!==void 0}function xs(i,e){if(i===e)return 0;const n=Wr(i),s=Wr(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=rt(c.integerValue||c.doubleValue),y=rt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Sp(i.timestampValue,e.timestampValue);case 4:return Sp(Jo(i),Jo(e));case 5:return Re(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Qr(c),y=Qr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let E=0;E<m.length&&E<y.length;E++){const T=Re(m[E],y[E]);if(T!==0)return T}return Re(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Re(rt(c.latitude),rt(f.latitude));return m!==0?m:Re(rt(c.longitude),rt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Ap(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,E,T;const C=c.fields||{},U=f.fields||{},j=(m=C.value)===null||m===void 0?void 0:m.arrayValue,Y=(y=U.value)===null||y===void 0?void 0:y.arrayValue,G=Re(((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0,((T=Y==null?void 0:Y.values)===null||T===void 0?void 0:T.length)||0);return G!==0?G:Ap(j,Y)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Rl.mapValue&&f===Rl.mapValue)return 0;if(c===Rl.mapValue)return 1;if(f===Rl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),E=f.fields||{},T=Object.keys(E);y.sort(),T.sort();for(let C=0;C<y.length&&C<T.length;++C){const U=Re(y[C],T[C]);if(U!==0)return U;const j=xs(m[y[C]],E[T[C]]);if(j!==0)return j}return Re(y.length,T.length)}(i.mapValue,e.mapValue);default:throw me()}}function Sp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const n=Hr(i),s=Hr(e),a=Re(n.seconds,s.seconds);return a!==0?a:Re(n.nanos,s.nanos)}function Ap(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=xs(n[a],s[a]);if(c)return c}return Re(n.length,s.length)}function Ls(i){return th(i)}function th(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Hr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Qr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ue.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=th(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${th(n.fields[f])}`;return a+"}"}(i.mapValue):me()}function Vl(i){switch(Wr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yl(i);return e?16+Vl(e):16;case 5:return 2*i.stringValue.length;case 6:return Qr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Vl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ki(s.fields,(c,f)=>{a+=c.length+Vl(f)}),a}(i.mapValue);default:throw me()}}function Rp(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function nh(i){return!!i&&"integerValue"in i}function Eh(i){return!!i&&"arrayValue"in i}function Cp(i){return!!i&&"nullValue"in i}function Pp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nl(i){return!!i&&"mapValue"in i}function Zv(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ki(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=qo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function e0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qo(n)}setAll(e){let n=Rt.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=qo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Nl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Nl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ki(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new mn(qo(this.value))}}function Nm(i){const e=[];return ki(i.fields,(n,s)=>{const a=new Rt([n]);if(Nl(s)){const c=Nm(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ot(e,0,ye.min(),ye.min(),ye.min(),mn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ot(e,1,n,ye.min(),s,a,0)}static newNoDocument(e,n){return new Ot(e,2,n,ye.min(),ye.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,ye.min(),ye.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.position=e,this.inclusive=n}}function kp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ue.comparator(ue.fromName(f.referenceValue),n.key):s=xs(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Vp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function t0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{}class at extends Dm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new r0(e,n,s):n==="array-contains"?new o0(e,s):n==="in"?new a0(e,s):n==="not-in"?new l0(e,s):n==="array-contains-any"?new u0(e,s):new at(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new i0(e,s):new s0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xs(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends Dm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dn(e,n)}matches(e){return xm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xm(i){return i.op==="and"}function Lm(i){return n0(i)&&xm(i)}function n0(i){for(const e of i.filters)if(e instanceof Dn)return!1;return!0}function rh(i){if(i instanceof at)return i.field.canonicalString()+i.op.toString()+Ls(i.value);if(Lm(i))return i.filters.map(e=>rh(e)).join(",");{const e=i.filters.map(n=>rh(n)).join(",");return`${i.op}(${e})`}}function Mm(i,e){return i instanceof at?function(s,a){return a instanceof at&&s.op===a.op&&s.field.isEqual(a.field)&&Qn(s.value,a.value)}(i,e):i instanceof Dn?function(s,a){return a instanceof Dn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&Mm(f,a.filters[m]),!0):!1}(i,e):void me()}function Om(i){return i instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${Ls(n.value)}`}(i):i instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(Om).join(" ,")+"}"}(i):"Filter"}class r0 extends at{constructor(e,n,s){super(e,n,s),this.key=ue.fromName(s.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class i0 extends at{constructor(e,n){super(e,"in",n),this.keys=Fm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class s0 extends at{constructor(e,n){super(e,"not-in",n),this.keys=Fm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Fm(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ue.fromName(s.referenceValue))}class o0 extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Eh(n)&&ea(n.arrayValue,this.value)}}class a0 extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ea(this.value.arrayValue,n)}}class l0 extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ea(this.value.arrayValue,n)}}class u0 extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Eh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ea(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function Np(i,e=null,n=[],s=[],a=null,c=null,f=null){return new c0(i,e,n,s,a,c,f)}function wh(i){const e=_e(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>rh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Xl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ls(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ls(s)).join(",")),e.ue=n}return e.ue}function Th(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!t0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Mm(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Vp(i.startAt,e.startAt)&&Vp(i.endAt,e.endAt)}function ih(i){return ue.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function h0(i,e,n,s,a,c,f,m){return new ra(i,e,n,s,a,c,f,m)}function Ih(i){return new ra(i)}function Dp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Um(i){return i.collectionGroup!==null}function Ho(i){const e=_e(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new pt(Rt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(E=>{E.isInequality()&&(m=m.add(E.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new jl(c,s))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new jl(Rt.keyField(),s))}return e.ce}function qn(i){const e=_e(i);return e.le||(e.le=f0(e,Ho(i))),e.le}function f0(i,e){if(i.limitType==="F")return Np(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new jl(a.field,c)});const n=i.endAt?new zl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new zl(i.startAt.position,i.startAt.inclusive):null;return Np(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function sh(i,e){const n=i.filters.concat([e]);return new ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function oh(i,e,n){return new ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Jl(i,e){return Th(qn(i),qn(e))&&i.limitType===e.limitType}function zm(i){return`${wh(qn(i))}|lt:${i.limitType}`}function Rs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Om(a)).join(", ")}]`),Xl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ls(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ls(a)).join(",")),`Target(${s})`}(qn(i))}; limitType=${i.limitType})`}function Zl(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ue.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Ho(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const E=kp(f,m,y);return f.inclusive?E<=0:E<0}(s.startAt,Ho(s),a)||s.endAt&&!function(f,m,y){const E=kp(f,m,y);return f.inclusive?E>=0:E>0}(s.endAt,Ho(s),a))}(i,e)}function d0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function jm(i){return(e,n)=>{let s=!1;for(const a of Ho(i)){const c=p0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function p0(i,e,n){const s=i.field.isKeyField()?ue.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),E=m.data.field(c);return y!==null&&E!==null?xs(y,E):me()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return km(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Xe(ue.comparator);function pr(){return m0}const Bm=new Xe(ue.comparator);function Bo(...i){let e=Bm;for(const n of i)e=e.insert(n.key,n);return e}function bm(i){let e=Bm;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Si(){return Qo()}function $m(){return Qo()}function Qo(){return new Vi(i=>i.toString(),(i,e)=>i.isEqual(e))}const g0=new Xe(ue.comparator),y0=new pt(ue.comparator);function Ie(...i){let e=y0;for(const n of i)e=e.add(n);return e}const _0=new pt(Re);function v0(){return _0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(e)?"-0":e}}function qm(i){return{integerValue:""+i}}function E0(i,e){return Gv(e)?qm(e):Sh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this._=void 0}}function w0(i,e,n){return i instanceof Bl?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&vh(c)&&(c=Yl(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof ta?Qm(i,e):i instanceof na?Wm(i,e):function(a,c){const f=Hm(a,c),m=xp(f)+xp(a.Pe);return nh(f)&&nh(a.Pe)?qm(m):Sh(a.serializer,m)}(i,e)}function T0(i,e,n){return i instanceof ta?Qm(i,e):i instanceof na?Wm(i,e):n}function Hm(i,e){return i instanceof bl?function(s){return nh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Bl extends eu{}class ta extends eu{constructor(e){super(),this.elements=e}}function Qm(i,e){const n=Gm(e);for(const s of i.elements)n.some(a=>Qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class na extends eu{constructor(e){super(),this.elements=e}}function Wm(i,e){let n=Gm(e);for(const s of i.elements)n=n.filter(a=>!Qn(a,s));return{arrayValue:{values:n}}}class bl extends eu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xp(i){return rt(i.integerValue||i.doubleValue)}function Gm(i){return Eh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function I0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ta&&a instanceof ta||s instanceof na&&a instanceof na?Ds(s.elements,a.elements,Qn):s instanceof bl&&a instanceof bl?Qn(s.Pe,a.Pe):s instanceof Bl&&a instanceof Bl}(i.transform,e.transform)}class S0{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class tu{}function Km(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ym(i.key,hr.none()):new ia(i.key,i.data,hr.none());{const n=i.data,s=mn.empty();let a=new pt(Rt.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Ni(i.key,s,new Nn(a.toArray()),hr.none())}}function A0(i,e,n){i instanceof ia?function(a,c,f){const m=a.value.clone(),y=Mp(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Ni?function(a,c,f){if(!Dl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Mp(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(Xm(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Wo(i,e,n,s){return i instanceof ia?function(c,f,m,y){if(!Dl(c.precondition,f))return m;const E=c.value.clone(),T=Op(c.fieldTransforms,y,f);return E.setAll(T),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ni?function(c,f,m,y){if(!Dl(c.precondition,f))return m;const E=Op(c.fieldTransforms,y,f),T=f.data;return T.setAll(Xm(c)),T.setAll(E),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(i,e,n,s):function(c,f,m){return Dl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function R0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Hm(s.transform,a||null);c!=null&&(n===null&&(n=mn.empty()),n.set(s.field,c))}return n||null}function Lp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ds(s,a,(c,f)=>I0(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ia extends tu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ni extends tu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Xm(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Mp(i,e,n){const s=new Map;Oe(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,T0(f,m,n[a]))}return s}function Op(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,w0(c,f,e))}return s}class Ym extends tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C0 extends tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&A0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$m();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=Km(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(ye.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,(n,s)=>Lp(n,s))&&Ds(this.baseMutations,e.baseMutations,(n,s)=>Lp(n,s))}}class Ah{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Oe(e.mutations.length===s.length);let a=function(){return g0}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Ah(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,ke;function N0(i){switch(i){default:return me();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function Jm(i){if(i===void 0)return dr("GRPC error has no .code"),q.UNKNOWN;switch(i){case ot.OK:return q.OK;case ot.CANCELLED:return q.CANCELLED;case ot.UNKNOWN:return q.UNKNOWN;case ot.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ot.INTERNAL:return q.INTERNAL;case ot.UNAVAILABLE:return q.UNAVAILABLE;case ot.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ot.NOT_FOUND:return q.NOT_FOUND;case ot.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ot.ABORTED:return q.ABORTED;case ot.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ot.DATA_LOSS:return q.DATA_LOSS;default:return me()}}(ke=ot||(ot={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Ai([4294967295,4294967295],0);function Fp(i){const e=D0().encode(i),n=new wm;return n.update(e),new Uint8Array(n.digest())}function Up(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ai([n,s],0),new Ai([a,c],0)]}class Rh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(s<0)throw new bo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ai.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Ai.fromNumber(s)));return a.compare(x0)===1&&(a=new Ai([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Fp(e),[s,a]=Up(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Rh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Fp(e),[s,a]=Up(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new nu(ye.min(),a,new Xe(Re),pr(),Ie())}}class sa{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new sa(s,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Zm{constructor(e,n){this.targetId=e,this.me=n}}class eg{constructor(e,n,s=Ct.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class zp{constructor(){this.fe=0,this.ge=jp(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),s=Ie();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:me()}}),new sa(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=jp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class L0{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=Cl(),this.Qe=Cl(),this.Ke=new Xe(Re)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(ih(c))if(s===0){const f=new ue(c.path);this.We(n,f,Ot.newNoDocument(f,ye.min()))}else Oe(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,E)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Qr(s).toUint8Array()}catch(y){if(y instanceof Vm)return Ns("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Rh(f,a,c)}catch(y){return Ns(y instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&ih(m.target)){const y=new ue(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Ot.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ie();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const E=this.Ye(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new nu(e,n,this.Ke,this.ke,s);return this.ke=pr(),this.qe=Cl(),this.Qe=Cl(),this.Ke=new Xe(Re),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new zp,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new pt(Re),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pt(Re),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new zp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Cl(){return new Xe(ue.comparator)}function jp(){return new Xe(ue.comparator)}const M0={asc:"ASCENDING",desc:"DESCENDING"},O0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F0={and:"AND",or:"OR"};class U0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ah(i,e){return i.useProto3Json||Xl(e)?e:{value:e}}function $l(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function z0(i,e){return $l(i,e.toTimestamp())}function Hn(i){return Oe(!!i),ye.fromTimestamp(function(n){const s=Hr(n);return new dt(s.seconds,s.nanos)}(i))}function Ch(i,e){return lh(i,e).canonicalString()}function lh(i,e){const n=function(a){return new He(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function ng(i){const e=He.fromString(i);return Oe(ag(e)),e}function uh(i,e){return Ch(i.databaseId,e.path)}function qc(i,e){const n=ng(e);if(n.get(1)!==i.databaseId.projectId)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ue(ig(n))}function rg(i,e){return Ch(i.databaseId,e)}function j0(i){const e=ng(i);return e.length===4?He.emptyPath():ig(e)}function ch(i){return new He(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ig(i){return Oe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Bp(i,e,n){return{name:uh(i,e),fields:n.value.mapValue.fields}}function B0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,T){return E.useProto3Json?(Oe(T===void 0||typeof T=="string"),Ct.fromBase64String(T||"")):(Oe(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Ct.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const T=E.code===void 0?q.UNKNOWN:Jm(E.code);return new se(T,E.message||"")}(f);n=new eg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=qc(i,s.document.name),c=Hn(s.document.updateTime),f=s.document.createTime?Hn(s.document.createTime):ye.min(),m=new mn({mapValue:{fields:s.document.fields}}),y=Ot.newFoundDocument(a,c,f,m),E=s.targetIds||[],T=s.removedTargetIds||[];n=new xl(E,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=qc(i,s.document),c=s.readTime?Hn(s.readTime):ye.min(),f=Ot.newNoDocument(a,c),m=s.removedTargetIds||[];n=new xl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=qc(i,s.document),c=s.removedTargetIds||[];n=new xl([],c,a,null)}else{if(!("filter"in e))return me();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new V0(a,c),m=s.targetId;n=new Zm(m,f)}}return n}function b0(i,e){let n;if(e instanceof ia)n={update:Bp(i,e.key,e.value)};else if(e instanceof Ym)n={delete:uh(i,e.key)};else if(e instanceof Ni)n={update:Bp(i,e.key,e.data),updateMask:Y0(e.fieldMask)};else{if(!(e instanceof C0))return me();n={verify:uh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof Bl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ta)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof na)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bl)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw me()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:z0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:me()}(i,e.precondition)),n}function $0(i,e){return i&&i.length>0?(Oe(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Hn(a.updateTime):Hn(c);return f.isEqual(ye.min())&&(f=Hn(c)),new S0(f,a.transformResults||[])}(n,e))):[]}function q0(i,e){return{documents:[rg(i,e.path)]}}function H0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=rg(i,a);const c=function(E){if(E.length!==0)return og(Dn.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(T=>function(U){return{field:Cs(U.field),direction:G0(U.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ah(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ct:n,parent:a}}function Q0(i){let e=j0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Oe(s===1);const T=n.from[0];T.allDescendants?a=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=function(C){const U=sg(C);return U instanceof Dn&&Lm(U)?U.getFilters():[U]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(U=>function(Y){return new jl(Ps(Y.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(U))}(n.orderBy));let m=null;n.limit&&(m=function(C){let U;return U=typeof C=="object"?C.value:C,Xl(U)?null:U}(n.limit));let y=null;n.startAt&&(y=function(C){const U=!!C.before,j=C.values||[];return new zl(j,U)}(n.startAt));let E=null;return n.endAt&&(E=function(C){const U=!C.before,j=C.values||[];return new zl(j,U)}(n.endAt)),h0(e,a,f,c,m,"F",y,E)}function W0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ps(n.unaryFilter.field);return at.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ps(n.unaryFilter.field);return at.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ps(n.unaryFilter.field);return at.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ps(n.unaryFilter.field);return at.create(f,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(i):i.fieldFilter!==void 0?function(n){return at.create(Ps(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(s=>sg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(i):me()}function G0(i){return M0[i]}function K0(i){return O0[i]}function X0(i){return F0[i]}function Cs(i){return{fieldPath:i.canonicalString()}}function Ps(i){return Rt.fromServerFormat(i.fieldPath)}function og(i){return i instanceof at?function(n){if(n.op==="=="){if(Pp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if(Cp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if(Cp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:K0(n.op),value:n.value}}}(i):i instanceof Dn?function(n){const s=n.getFilters().map(a=>og(a));return s.length===1?s[0]:{compositeFilter:{op:X0(n.op),filters:s}}}(i):me()}function Y0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ag(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s,a,c=ye.min(),f=ye.min(),m=Ct.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.ht=e}}function Z0(i){const e=Q0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?oh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.ln=new tE}addToCollectionParentIndex(e,n){return this.ln.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(qr.min())}updateCollectionGroup(e,n,s){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class tE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new pt(He.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new pt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ms(0)}static Qn(){return new Ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p([i,e],[n,s]){const a=Re(i,n);return a===0?Re(e,s):a}class nE{constructor(e){this.Gn=e,this.buffer=new pt($p),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();$p(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bs(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await js(n)}await this.Yn(3e5)})}}class iE{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Kl.oe);const s=new nE(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(bp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bp):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,E;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,f=Date.now(),this.nthSequenceNumber(e,a))).next(C=>(s=C,m=Date.now(),this.removeTargets(e,s,n))).next(C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(E=Date.now(),As()<=Ve.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${C} documents in `+(E-y)+`ms
Total Duration: ${E-T}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:C})))}}function sE(i,e){return new iE(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.changes=new Vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?B.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Wo(s.mutation,a,Nn.empty(),dt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ie()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ie()){const a=Si();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Bo();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Si();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ie()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=pr();const f=Qo(),m=function(){return Qo()}();return n.forEach((y,E)=>{const T=s.get(E.key);a.has(E.key)&&(T===void 0||T.mutation instanceof Ni)?c=c.insert(E.key,E):T!==void 0?(f.set(E.key,T.mutation.getFieldMask()),Wo(T.mutation,E,T.mutation.getFieldMask(),dt.now())):f.set(E.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((E,T)=>f.set(E,T)),n.forEach((E,T)=>{var C;return m.set(E,new aE(T,(C=f.get(E))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Qo();let a=new Xe((f,m)=>f-m),c=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const E=n.get(y);if(E===null)return;let T=s.get(y)||Nn.empty();T=m.applyToLocalView(E,T),s.set(y,T);const C=(a.get(m.batchId)||Ie()).add(y);a=a.insert(m.batchId,C)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),E=y.key,T=y.value,C=$m();T.forEach(U=>{if(!c.has(U)){const j=Km(n.get(U),s.get(U));j!==null&&C.set(U,j),c=c.add(U)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,C))}return B.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ue.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Um(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):B.resolve(Si());let m=-1,y=c;return f.next(E=>B.forEach(E,(T,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),c.get(T)?B.resolve():this.remoteDocumentCache.getEntry(e,T).next(U=>{y=y.insert(T,U)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,y,E,Ie())).next(T=>({batchId:m,changes:bm(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(s=>{let a=Bo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Bo();return this.indexManager.getCollectionParents(e,c).next(m=>B.forEach(m,y=>{const E=function(C,U){return new ra(U,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,a).next(T=>{T.forEach((C,U)=>{f=f.insert(C,U)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,E)=>{const T=E.getKey();f.get(T)===null&&(f=f.insert(T,Ot.newInvalidDocument(T)))});let m=Bo();return f.forEach((y,E)=>{const T=c.get(y);T!==void 0&&Wo(T.mutation,E,Nn.empty(),dt.now()),Zl(n,E)&&(m=m.insert(y,E))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Hn(a.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:Z0(a.bundledQuery),readTime:Hn(a.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.overlays=new Xe(ue.comparator),this.Er=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Si();return B.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),B.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),B.resolve()}getOverlaysForCollection(e,n,s){const a=Si(),c=n.length+1,f=new ue(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,E=y.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Xe((E,T)=>E-T);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let T=c.get(E.largestBatchId);T===null&&(T=Si(),c=c.insert(E.largestBatchId,T)),T.set(E.getKey(),E)}}const m=Si(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,T)=>m.set(E,T)),!(m.size()>=a)););return B.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new k0(n,s));let c=this.Er.get(n);c===void 0&&(c=Ie(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.dr=new pt(Et.Ar),this.Rr=new pt(Et.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new Et(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Et(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ue(new He([])),s=new Et(n,e),a=new Et(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ue(new He([])),s=new Et(n,e),a=new Et(n,e+1);let c=Ie();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Et(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ue.comparator(e.key,n.key)||Re(e.br,n.br)}static Vr(e,n){return Re(e.br,n.br)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new pt(Et.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new P0(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new Et(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return B.resolve(f)}lookupMutationBatch(e,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return B.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Et(n,0),a=new Et(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),B.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(Re);return n.forEach(a=>{const c=new Et(a,0),f=new Et(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),B.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ue.isDocumentKey(c)||(c=c.child(""));const f=new Et(new ue(c),0);let m=new pt(Re);return this.vr.forEachWhile(y=>{const E=y.key.path;return!!s.isPrefixOf(E)&&(E.length===a&&(m=m.add(y.br)),!0)},f),B.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Oe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return B.forEach(n.mutations,a=>{const c=new Et(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new Et(n,0),a=this.vr.firstAfterOrEqual(s);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.Nr=e,this.docs=function(){return new Xe(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return B.resolve(s?s.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ot.newInvalidDocument(a))}),B.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=pr();const f=n.path,m=new ue(f.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:E,value:{document:T}}=y.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||qv($v(T),s)<=0||(a.has(T.key)||Zl(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return B.resolve(c)}getAllFromCollectionGroup(e,n,s,a){me()}Lr(e,n){return B.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new pE(this)}getSize(e){return B.resolve(this.size)}}class pE extends oE{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),B.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.persistence=e,this.Br=new Vi(n=>wh(n),Th),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ph,this.targetCount=0,this.Qr=Ms.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),B.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Ms(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Un(n),B.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),B.waitFor(c).next(()=>a)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return B.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),B.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),B.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return B.resolve(s)}containsKey(e,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Kl(0),this.Ur=!1,this.Ur=!0,this.Wr=new hE,this.referenceDelegate=e(this),this.Gr=new mE(this),this.indexManager=new eE,this.remoteDocumentCache=function(a){return new dE(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new J0(n),this.jr=new uE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new fE(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new gE(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return B.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class gE extends Qv{constructor(e){super(),this.currentSequenceNumber=e}}class kh{constructor(e){this.persistence=e,this.Zr=new Ph,this.Xr=null}static ei(e){return new kh(e)}get ti(){if(this.Xr)return this.Xr;throw me()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),B.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,s=>{const a=ue.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,ye.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class ql{constructor(e,n){this.persistence=e,this.ri=new Vi(s=>Kv(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=sE(this,n)}static ei(e,n){return new ql(e,n)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return B.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?B.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,ye.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vl(e.data.value)),n}ir(e,n,s){return B.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return B.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ie(),a=Ie();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Vh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return y_()?8:Wv(m_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new yE;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(As()<=Ve.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(As()<=Ve.DEBUG&&te("QueryEngine","Query:",Rs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(As()<=Ve.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):B.resolve())}Xi(e,n){if(Dp(n))return B.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=oh(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ie(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const E=this.rs(n,m);return this.ss(n,E,f,y.readTime)?this.Xi(e,oh(n,null,"F")):this.os(e,E,n,y)}))})))}es(e,n,s,a){return Dp(n)||a.isEqual(ye.min())?B.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?B.resolve(null):(As()<=Ve.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rs(n)),this.os(e,f,n,bv(a,-1)).next(m=>m))})}rs(e,n){let s=new pt(jm(e));return n.forEach((a,c)=>{Zl(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return As()<=Ve.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.Zi.getDocumentsMatchingQuery(e,n,qr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Xe(Re),this.cs=new Vi(c=>wh(c),Th),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function EE(i,e,n,s){return new vE(i,e,n,s)}async function ug(i,e){const n=_e(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Ie();for(const E of a){f.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}for(const E of c){m.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(s,y).next(E=>({Ts:E,removedBatchIds:f,addedBatchIds:m}))})})}function wE(i,e){const n=_e(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,E,T){const C=E.batch,U=C.keys();let j=B.resolve();return U.forEach(Y=>{j=j.next(()=>T.getEntry(y,Y)).next(G=>{const $=E.docVersions.get(Y);Oe($!==null),G.version.compareTo($)<0&&(C.applyToRemoteDocument(G,E),G.isValidDocument()&&(G.setReadTime(E.commitVersion),T.addEntry(G)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(y,C))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Ie();for(let E=0;E<m.mutationResults.length;++E)m.mutationResults[E].transformResults.length>0&&(y=y.add(m.batch.mutations[E].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function cg(i){const e=_e(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function TE(i,e){const n=_e(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((T,C)=>{const U=a.get(C);if(!U)return;m.push(n.Gr.removeMatchingKeys(c,T.removedDocuments,C).next(()=>n.Gr.addMatchingKeys(c,T.addedDocuments,C)));let j=U.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?j=j.withResumeToken(Ct.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),a=a.insert(C,j),function(G,$,de){return G.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0}(U,j,T)&&m.push(n.Gr.updateTargetData(c,j))});let y=pr(),E=Ie();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(IE(c,f,e.documentUpdates).next(T=>{y=T.Is,E=T.Es})),!s.isEqual(ye.min())){const T=n.Gr.getLastRemoteSnapshotVersion(c).next(C=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(T)}return B.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,E)).next(()=>y)}).then(c=>(n.us=a,c))}function IE(i,e,n){let s=Ie(),a=Ie();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=pr();return n.forEach((m,y)=>{const E=c.get(m);y.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(ye.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",y.version)}),{Is:f,Es:a}})}function SE(i,e){const n=_e(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function AE(i,e){const n=_e(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,B.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function hh(i,e,n){const s=_e(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Bs(f))throw f;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function qp(i,e,n){const s=_e(i);let a=ye.min(),c=Ie();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,E,T){const C=_e(y),U=C.cs.get(T);return U!==void 0?B.resolve(C.us.get(U)):C.Gr.getTargetData(E,T)}(s,f,qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:ye.min(),n?c:Ie())).next(m=>(RE(s,d0(e),m),{documents:m,ds:c})))}function RE(i,e,n){let s=i.ls.get(e)||ye.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class Hp{constructor(){this.activeTargetIds=v0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CE{constructor(){this._o=new Hp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Hp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl=null;function Hc(){return Pl===null?Pl=function(){return 268435456+Math.round(2147483648*Math.random())}():Pl++,"0x"+Pl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class NE extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Hc(),y=this.No(n,s.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,f),this.Bo(n,y,E,a).then(T=>(te("RestConnection",`Received RPC '${n}' ${m}: `,T),T),T=>{throw Ns("RestConnection",`RPC '${n}' ${m} failed with error: `,T,"url: ",y,"request:",a),T})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=kE[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=Hc();return new Promise((f,m)=>{const y=new Tm;y.setWithCredentials(!0),y.listenOnce(Im.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case kl.NO_ERROR:const T=y.getResponseJson();te(Lt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case kl.TIMEOUT:te(Lt,`RPC '${e}' ${c} timed out`),m(new se(q.DEADLINE_EXCEEDED,"Request time out"));break;case kl.HTTP_ERROR:const C=y.getStatus();if(te(Lt,`RPC '${e}' ${c} failed with status:`,C,"response text:",y.getResponseText()),C>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const j=U==null?void 0:U.error;if(j&&j.status&&j.message){const Y=function($){const de=$.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(de)>=0?de:q.UNKNOWN}(j.status);m(new se(Y,j.message))}else m(new se(q.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new se(q.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{te(Lt,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(a);te(Lt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",E,s,15)})}qo(e,n,s){const a=Hc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Rm(),m=Am(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Lo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const T=c.join("");te(Lt,`Creating RPC '${e}' stream ${a}: ${T}`,y);const C=f.createWebChannel(T,y);let U=!1,j=!1;const Y=new VE({Eo:$=>{j?te(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,$):(U||(te(Lt,`Opening RPC '${e}' stream ${a} transport.`),C.open(),U=!0),te(Lt,`RPC '${e}' stream ${a} sending:`,$),C.send($))},Ao:()=>C.close()}),G=($,de,ge)=>{$.listen(de,ve=>{try{ge(ve)}catch(Se){setTimeout(()=>{throw Se},0)}})};return G(C,jo.EventType.OPEN,()=>{j||(te(Lt,`RPC '${e}' stream ${a} transport opened.`),Y.So())}),G(C,jo.EventType.CLOSE,()=>{j||(j=!0,te(Lt,`RPC '${e}' stream ${a} transport closed`),Y.Do())}),G(C,jo.EventType.ERROR,$=>{j||(j=!0,Ns(Lt,`RPC '${e}' stream ${a} transport errored:`,$),Y.Do(new se(q.UNAVAILABLE,"The operation could not be completed")))}),G(C,jo.EventType.MESSAGE,$=>{var de;if(!j){const ge=$.data[0];Oe(!!ge);const ve=ge,Se=(ve==null?void 0:ve.error)||((de=ve[0])===null||de===void 0?void 0:de.error);if(Se){te(Lt,`RPC '${e}' stream ${a} received error:`,Se);const Je=Se.status;let Ne=function(A){const k=ot[A];if(k!==void 0)return Jm(k)}(Je),V=Se.message;Ne===void 0&&(Ne=q.INTERNAL,V="Unknown error status: "+Je+" with message "+Se.message),j=!0,Y.Do(new se(Ne,V)),C.close()}else te(Lt,`RPC '${e}' stream ${a} received:`,ge),Y.vo(ge)}}),G(m,Sm.STAT_EVENT,$=>{$.stat===eh.PROXY?te(Lt,`RPC '${e}' stream ${a} detected buffering proxy`):$.stat===eh.NOPROXY&&te(Lt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Y.bo()},0),Y}}function Qc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(i){return new U0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new hg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new se(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DE extends fg{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=B0(this.serializer,e),s=function(c){if(!("targetChange"in c))return ye.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ye.min():f.readTime?Hn(f.readTime):ye.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=ch(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=ih(y)?{documents:q0(c,y)}:{query:H0(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=tg(c,f.resumeToken);const E=ah(c,f.expectedCount);E!==null&&(m.expectedCount=E)}else if(f.snapshotVersion.compareTo(ye.min())>0){m.readTime=$l(c,f.snapshotVersion.toTimestamp());const E=ah(c,f.expectedCount);E!==null&&(m.expectedCount=E)}return m}(this.serializer,e);const s=W0(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=ch(this.serializer),n.removeTarget=e,this.c_(n)}}class xE extends fg{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=$0(e.writeResults,e.commitTime),s=Hn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=ch(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>b0(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,lh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(q.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,lh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(q.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class ME{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(dr(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Di(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(y){const E=_e(y);E.k_.add(4),await oa(E),E.K_.set("Unknown"),E.k_.delete(4),await iu(E)}(this))})}),this.K_=new ME(s,a)}}async function iu(i){if(Di(i))for(const e of i.q_)await e(!0)}async function oa(i){for(const e of i.q_)await e(!1)}function dg(i,e){const n=_e(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Lh(n)?xh(n):bs(n).s_()&&Dh(n,e))}function Nh(i,e){const n=_e(i),s=bs(n);n.B_.delete(e),s.s_()&&pg(n,e),n.B_.size===0&&(s.s_()?s.a_():Di(n)&&n.K_.set("Unknown"))}function Dh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bs(i).V_(e)}function pg(i,e){i.U_.xe(e),bs(i).m_(e)}function xh(i){i.U_=new L0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),bs(i).start(),i.K_.F_()}function Lh(i){return Di(i)&&!bs(i).i_()&&i.B_.size>0}function Di(i){return _e(i).k_.size===0}function mg(i){i.U_=void 0}async function FE(i){i.K_.set("Online")}async function UE(i){i.B_.forEach((e,n)=>{Dh(i,e)})}async function zE(i,e){mg(i),Lh(i)?(i.K_.O_(e),xh(i)):i.K_.set("Unknown")}async function jE(i,e,n){if(i.K_.set("Online"),e instanceof eg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hl(i,s)}else if(e instanceof xl?i.U_.$e(e):e instanceof Zm?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(ye.min()))try{const s=await cg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.B_.get(E);T&&c.B_.set(E,T.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,E)=>{const T=c.B_.get(y);if(!T)return;c.B_.set(y,T.withResumeToken(Ct.EMPTY_BYTE_STRING,T.snapshotVersion)),pg(c,y);const C=new jr(T.target,y,E,T.sequenceNumber);Dh(c,C)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){te("RemoteStore","Failed to raise snapshot:",s),await Hl(i,s)}}async function Hl(i,e,n){if(!Bs(e))throw e;i.k_.add(1),await oa(i),i.K_.set("Offline"),n||(n=()=>cg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await iu(i)})}function gg(i,e){return e().catch(n=>Hl(i,n,e))}async function su(i){const e=_e(i),n=Gr(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;BE(e);)try{const a=await SE(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,bE(e,a)}catch(a){await Hl(e,a)}yg(e)&&_g(e)}function BE(i){return Di(i)&&i.L_.length<10}function bE(i,e){i.L_.push(e);const n=Gr(i);n.s_()&&n.f_&&n.g_(e.mutations)}function yg(i){return Di(i)&&!Gr(i).i_()&&i.L_.length>0}function _g(i){Gr(i).start()}async function $E(i){Gr(i).w_()}async function qE(i){const e=Gr(i);for(const n of i.L_)e.g_(n.mutations)}async function HE(i,e,n){const s=i.L_.shift(),a=Ah.from(s,e,n);await gg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await su(i)}async function QE(i,e){e&&Gr(i).f_&&await async function(s,a){if(function(f){return N0(f)&&f!==q.ABORTED}(a.code)){const c=s.L_.shift();Gr(s).__(),await gg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await su(s)}}(i,e),yg(i)&&_g(i)}async function Wp(i,e){const n=_e(i);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=Di(n);n.k_.add(3),await oa(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await iu(n)}async function WE(i,e){const n=_e(i);e?(n.k_.delete(2),await iu(n)):e||(n.k_.add(2),await oa(n),n.K_.set("Unknown"))}function bs(i){return i.W_||(i.W_=function(n,s,a){const c=_e(n);return c.b_(),new DE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:FE.bind(null,i),mo:UE.bind(null,i),po:zE.bind(null,i),R_:jE.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Lh(i)?xh(i):i.K_.set("Unknown")):(await i.W_.stop(),mg(i))})),i.W_}function Gr(i){return i.G_||(i.G_=function(n,s,a){const c=_e(n);return c.b_(),new xE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:$E.bind(null,i),po:QE.bind(null,i),p_:qE.bind(null,i),y_:HE.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await su(i)):(await i.G_.stop(),i.L_.length>0&&(te("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new Mh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oh(i,e){if(dr("AsyncQueue",`${e}: ${i}`),Bs(i))return new se(q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static emptySet(e){return new Vs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ue.comparator(n.key,s.key):(n,s)=>ue.comparator(n.key,s.key),this.keyedMap=Bo(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.z_=new Xe(ue.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):me():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Os{constructor(e,n,s,a,c,f,m,y,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Os(e,n,Vs.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class KE{constructor(){this.queries=Kp(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=_e(n),c=a.queries;a.queries=Kp(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new se(q.ABORTED,"Firestore shutting down"))}}function Kp(){return new Vi(i=>zm(i),Jl)}async function XE(i,e){const n=_e(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new GE,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=Oh(f,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Fh(n)}async function YE(i,e){const n=_e(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JE(i,e){const n=_e(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&Fh(n)}function ZE(i,e,n){const s=_e(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Fh(i){i.X_.forEach(e=>{e.next()})}var fh,Xp;(Xp=fh||(fh={})).na="default",Xp.Cache="cache";class ew{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Os(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==fh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.key=e}}class Eg{constructor(e){this.key=e}}class tw{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ie(),this.mutatedKeys=Ie(),this.Va=jm(e),this.ma=new Vs(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new Gp,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((T,C)=>{const U=a.get(T),j=Zl(this.query,C)?C:null,Y=!!U&&this.mutatedKeys.has(U.key),G=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;U&&j?U.data.isEqual(j.data)?Y!==G&&(s.track({type:3,doc:j}),$=!0):this.ya(U,j)||(s.track({type:2,doc:j}),$=!0,(y&&this.Va(j,y)>0||E&&this.Va(j,E)<0)&&(m=!0)):!U&&j?(s.track({type:0,doc:j}),$=!0):U&&!j&&(s.track({type:1,doc:U}),$=!0,(y||E)&&(m=!0)),$&&(j?(f=f.add(j),c=G?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((T,C)=>function(j,Y){const G=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return G(j)-G(Y)}(T.type,C.type)||this.Va(T.doc,C.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,E=y!==this.Aa;return this.Aa=y,f.length!==0||E?{snapshot:new Os(this.query,e.ma,c,f,e.mutatedKeys,y===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Gp,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ie(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Eg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new vg(s))}),n}va(e){this.da=e.ds,this.Ra=Ie();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Os.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class nw{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class rw{constructor(e){this.key=e,this.Fa=!1}}class iw{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Vi(m=>zm(m),Jl),this.Oa=new Map,this.Na=new Set,this.La=new Xe(ue.comparator),this.Ba=new Map,this.ka=new Ph,this.qa={},this.Qa=new Map,this.Ka=Ms.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function sw(i,e,n=!0){const s=Rg(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await wg(s,e,n,!0),a}async function ow(i,e){const n=Rg(i);await wg(n,e,!0,!1)}async function wg(i,e,n,s){const a=await AE(i.localStore,qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await aw(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&dg(i.remoteStore,a),m}async function aw(i,e,n,s,a){i.Ua=(C,U,j)=>async function(G,$,de,ge){let ve=$.view.ga(de);ve.ss&&(ve=await qp(G.localStore,$.query,!1).then(({documents:V})=>$.view.ga(V,ve)));const Se=ge&&ge.targetChanges.get($.targetId),Je=ge&&ge.targetMismatches.get($.targetId)!=null,Ne=$.view.applyChanges(ve,G.isPrimaryClient,Se,Je);return Jp(G,$.targetId,Ne.ba),Ne.snapshot}(i,C,U,j);const c=await qp(i.localStore,e,!0),f=new tw(e,c.ds),m=f.ga(c.documents),y=sa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),E=f.applyChanges(m,i.isPrimaryClient,y);Jp(i,n,E.ba);const T=new nw(e,n,f);return i.xa.set(e,T),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),E.snapshot}async function lw(i,e,n){const s=_e(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!Jl(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await hh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Nh(s.remoteStore,a.targetId),dh(s,a.targetId)}).catch(js)):(dh(s,a.targetId),await hh(s.localStore,a.targetId,!0))}async function uw(i,e){const n=_e(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Nh(n.remoteStore,s.targetId))}async function cw(i,e,n){const s=yw(i);try{const a=await function(f,m){const y=_e(f),E=dt.now(),T=m.reduce((j,Y)=>j.add(Y.key),Ie());let C,U;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Y=pr(),G=Ie();return y.hs.getEntries(j,T).next($=>{Y=$,Y.forEach((de,ge)=>{ge.isValidDocument()||(G=G.add(de))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,Y)).next($=>{C=$;const de=[];for(const ge of m){const ve=R0(ge,C.get(ge.key).overlayedDocument);ve!=null&&de.push(new Ni(ge.key,ve,Nm(ve.value.mapValue),hr.exists(!0)))}return y.mutationQueue.addMutationBatch(j,E,de,m)}).next($=>{U=$;const de=$.applyToLocalDocumentSet(C,G);return y.documentOverlayCache.saveOverlays(j,$.batchId,de)})}).then(()=>({batchId:U.batchId,changes:bm(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,y){let E=f.qa[f.currentUser.toKey()];E||(E=new Xe(Re)),E=E.insert(m,y),f.qa[f.currentUser.toKey()]=E}(s,a.batchId,n),await aa(s,a.changes),await su(s.remoteStore)}catch(a){const c=Oh(a,"Failed to persist write");n.reject(c)}}async function Tg(i,e){const n=_e(i);try{const s=await TE(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Ba.get(c);f&&(Oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Oe(f.Fa):a.removedDocuments.size>0&&(Oe(f.Fa),f.Fa=!1))}),await aa(n,s,e)}catch(s){await js(s)}}function Yp(i,e,n){const s=_e(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=_e(f);y.onlineState=m;let E=!1;y.queries.forEach((T,C)=>{for(const U of C.J_)U.ea(m)&&(E=!0)}),E&&Fh(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hw(i,e,n){const s=_e(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let f=new Xe(ue.comparator);f=f.insert(c,Ot.newNoDocument(c,ye.min()));const m=Ie().add(c),y=new nu(ye.min(),new Map,new Xe(Re),f,m);await Tg(s,y),s.La=s.La.remove(c),s.Ba.delete(e),Uh(s)}else await hh(s.localStore,e,!1).then(()=>dh(s,e,n)).catch(js)}async function fw(i,e){const n=_e(i),s=e.batch.batchId;try{const a=await wE(n.localStore,e);Sg(n,s,null),Ig(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await aa(n,a)}catch(a){await js(a)}}async function dw(i,e,n){const s=_e(i);try{const a=await function(f,m){const y=_e(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let T;return y.mutationQueue.lookupMutationBatch(E,m).next(C=>(Oe(C!==null),T=C.keys(),y.mutationQueue.removeMutationBatch(E,C))).next(()=>y.mutationQueue.performConsistencyCheck(E)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(E,T,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,T)).next(()=>y.localDocuments.getDocuments(E,T))})}(s.localStore,e);Sg(s,e,n),Ig(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await aa(s,a)}catch(a){await js(a)}}function Ig(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Sg(i,e,n){const s=_e(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function dh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Ag(i,s)})}function Ag(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(Nh(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Uh(i))}function Jp(i,e,n){for(const s of n)s instanceof vg?(i.ka.addReference(s.key,e),pw(i,s)):s instanceof Eg?(te("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Ag(i,s.key)):me()}function pw(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(te("SyncEngine","New document in limbo: "+n),i.Na.add(s),Uh(i))}function Uh(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ue(He.fromString(e)),s=i.Ka.next();i.Ba.set(s,new rw(n)),i.La=i.La.insert(n,s),dg(i.remoteStore,new jr(qn(Ih(n.path)),s,"TargetPurposeLimboResolution",Kl.oe))}}async function aa(i,e,n){const s=_e(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(E=>{var T;if((E||n)&&s.isPrimaryClient){const C=E?!E.fromCache:(T=n==null?void 0:n.targetChanges.get(y.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(y.targetId,C?"current":"not-current")}if(E){a.push(E);const C=Vh.zi(y.targetId,E);c.push(C)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,E){const T=_e(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>B.forEach(E,U=>B.forEach(U.Wi,j=>T.persistence.referenceDelegate.addReference(C,U.targetId,j)).next(()=>B.forEach(U.Gi,j=>T.persistence.referenceDelegate.removeReference(C,U.targetId,j)))))}catch(C){if(!Bs(C))throw C;te("LocalStore","Failed to update sequence numbers: "+C)}for(const C of E){const U=C.targetId;if(!C.fromCache){const j=T.us.get(U),Y=j.snapshotVersion,G=j.withLastLimboFreeSnapshotVersion(Y);T.us=T.us.insert(U,G)}}}(s.localStore,c))}async function mw(i,e){const n=_e(i);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=await ug(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new se(q.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await aa(n,s.Ts)}}function gw(i,e){const n=_e(i),s=n.Ba.get(e);if(s&&s.Fa)return Ie().add(s.key);{let a=Ie();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Rg(i){const e=_e(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hw.bind(null,e),e.Ma.R_=JE.bind(null,e.eventManager),e.Ma.Wa=ZE.bind(null,e.eventManager),e}function yw(i){const e=_e(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dw.bind(null,e),e}class Ql{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ru(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return EE(this.persistence,new _E,e.initialUser,this.serializer)}ja(e){return new lg(kh.ei,this.serializer)}za(e){return new CE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ql.provider={build:()=>new Ql};class _w extends Ql{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Oe(this.persistence.referenceDelegate instanceof ql);const s=this.persistence.referenceDelegate.garbageCollector;return new rE(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new lg(s=>ql.ei(s,n),this.serializer)}}class ph{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Yp(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mw.bind(null,this.syncEngine),await WE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KE}()}createDatastore(e){const n=ru(e.databaseInfo.databaseId),s=function(c){return new NE(c)}(e.databaseInfo);return function(c,f,m,y){return new LE(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new OE(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Yp(this.syncEngine,n,0),function(){return Qp.p()?new Qp:new PE}())}createSyncEngine(e,n){return function(a,c,f,m,y,E,T){const C=new iw(a,c,f,m,y,E);return T&&(C.$a=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=_e(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await oa(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ph.provider={build:()=>new ph};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{te("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(te("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Oh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Wc(i,e){i.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await ug(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Zp(i,e){i.asyncQueue.verifyOperationInProgress();const n=await ww(i);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Wp(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Wp(e.remoteStore,a)),i._onlineComponents=e}async function ww(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===q.FAILED_PRECONDITION||a.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await Wc(i,new Ql)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Wc(i,new _w(void 0));return i._offlineComponents}async function Cg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Zp(i,i._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Zp(i,new ph))),i._onlineComponents}function Tw(i){return Cg(i).then(e=>e.syncEngine)}async function em(i){const e=await Cg(i),n=e.eventManager;return n.onListen=sw.bind(null,e.syncEngine),n.onUnlisten=lw.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ow.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uw.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(i,e,n){if(!n)throw new se(q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Iw(i,e,n,s){if(e===!0&&s===!0)throw new se(q.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function nm(i){if(!ue.isDocumentKey(i))throw new se(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function rm(i){if(ue.isDocumentKey(i))throw new se(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ou(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":me()}function Go(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new se(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ou(i);throw new se(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Iw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class au{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new im({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new im(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new xv;switch(s.type){case"firstParty":return new Fv(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=tm.get(n);s&&(te("ComponentProvider","Removing Datastore"),tm.delete(n),s.terminate())}(this),Promise.resolve()}}function Sw(i,e,n,s={}){var a;const c=(i=Go(i,au))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Mt.MOCK_USER;else{m=p_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new se(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Mt(E)}i._authCredentials=new Lv(new Cm(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class rn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class $r extends $s{constructor(e,n,s){super(e,n,Ih(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new ue(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function Aw(i,e,...n){if(i=Ci(i),kg("collection","path",e),i instanceof au){const s=He.fromString(e,...n);return rm(s),new $r(i,null,s)}{if(!(i instanceof rn||i instanceof $r))throw new se(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return rm(s),new $r(i.firestore,null,s)}}function Rw(i,e,...n){if(i=Ci(i),arguments.length===1&&(e=Pm.newId()),kg("doc","path",e),i instanceof au){const s=He.fromString(e,...n);return nm(s),new rn(i,null,new ue(s))}{if(!(i instanceof rn||i instanceof $r))throw new se(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return nm(s),new rn(i.firestore,i instanceof $r?i.converter:null,new ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new hg(this,"async_queue_retry"),this.fu=()=>{const s=Qc();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Qc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Qc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Ri;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Bs(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw dr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Mh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&me()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function om(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(i,["next","error","complete"])}class Wl extends au{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new sm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sm(e),this._firestoreClient=void 0,await e}}}function Cw(i,e){const n=typeof i=="object"?i:Iv(),s=typeof i=="string"?i:"(default)",a=vv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=f_("firestore");c&&Sw(a,...c)}return a}function Vg(i){if(i._terminated)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Pw(i),i._firestoreClient}function Pw(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,E,T){return new Jv(m,y,E,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Pg(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new Ew(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fs(Ct.fromBase64String(e))}catch(n){throw new se(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fs(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=/^__.*__$/;class Vw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new ia(e,this.data,n,this.fieldTransforms)}}function Dg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class bh{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new bh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Gl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Dg(this.Mu)&&kw.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Nw{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ru(e)}$u(e,n,s,a=!1){return new bh({Mu:e,methodName:n,Ku:s,path:Rt.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xg(i){const e=i._freezeSettings(),n=ru(i._databaseId);return new Nw(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Dw(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);Og("Data must be an object, but it was:",f,s);const m=Lg(s,f);let y,E;if(c.merge)y=new Nn(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const C of c.mergeFields){const U=Lw(e,C,n);if(!f.contains(U))throw new se(q.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);Ow(T,U)||T.push(U)}y=new Nn(T),E=f.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,E=f.fieldTransforms;return new Vw(new mn(m),y,E)}function xw(i,e,n,s=!1){return $h(n,i.$u(s?4:3,e))}function $h(i,e){if(Mg(i=Ci(i)))return Og("Unsupported field value:",e,i),Lg(i,e);if(i instanceof Ng)return function(s,a){if(!Dg(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let y=$h(m,a.ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Ci(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return E0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=dt.fromDate(s);return{timestampValue:$l(a.serializer,c)}}if(s instanceof dt){const c=new dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$l(a.serializer,c)}}if(s instanceof jh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fs)return{bytesValue:tg(a.serializer,s._byteString)};if(s instanceof rn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ch(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Bh)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return Sh(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${ou(s)}`)}(i,e)}function Lg(i,e){const n={};return km(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(i,(s,a)=>{const c=$h(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Mg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof dt||i instanceof jh||i instanceof Fs||i instanceof rn||i instanceof Ng||i instanceof Bh)}function Og(i,e,n){if(!Mg(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=ou(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function Lw(i,e,n){if((e=Ci(e))instanceof zh)return e._internalPath;if(typeof e=="string")return Fg(i,e);throw Gl("Field path arguments must be of type string or ",i,!1,void 0,n)}const Mw=new RegExp("[~\\*/\\[\\]]");function Fg(i,e,n){if(e.search(Mw)>=0)throw Gl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new zh(...e.split("."))._internalPath}catch{throw Gl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Gl(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new se(q.INVALID_ARGUMENT,m+i+y)}function Ow(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fw extends Ug{data(){return super.data()}}function qh(i,e){return typeof e=="string"?Fg(i,e):e instanceof zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new se(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hh{}class zw extends Hh{}function jw(i,e,...n){let s=[];e instanceof Hh&&s.push(e),s=s.concat(n),function(c){const f=c.filter(y=>y instanceof Qh).length,m=c.filter(y=>y instanceof lu).length;if(f>1||f>0&&m>0)throw new se(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class lu extends zw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lu(e,n,s)}_apply(e){const n=this._parse(e);return zg(e._query,n),new $s(e.firestore,e.converter,sh(e._query,n))}_parse(e){const n=xg(e.firestore);return function(c,f,m,y,E,T,C){let U;if(E.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new se(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){lm(C,T);const j=[];for(const Y of C)j.push(am(y,c,Y));U={arrayValue:{values:j}}}else U=am(y,c,C)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||lm(C,T),U=xw(m,f,C,T==="in"||T==="not-in");return at.create(E,T,U)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bw(i,e,n){const s=e,a=qh("where",i);return lu._create(a,s,n)}class Qh extends Hh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qh(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let f=a;const m=c.getFlattenedFilters();for(const y of m)zg(f,y),f=sh(f,y)}(e._query,n),new $s(e.firestore,e.converter,sh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function am(i,e,n){if(typeof(n=Ci(n))=="string"){if(n==="")throw new se(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Um(e)&&n.indexOf("/")!==-1)throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(He.fromString(n));if(!ue.isDocumentKey(s))throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Rp(i,new ue(s))}if(n instanceof rn)return Rp(i,n._key);throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ou(n)}.`)}function lm(i,e){if(!Array.isArray(i)||i.length===0)throw new se(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zg(i,e){const n=function(a,c){for(const f of a)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bw{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ki(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>rt(f.doubleValue));return new Bh(c)}convertGeoPoint(e){return new jh(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yl(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const n=Hr(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=He.fromString(e);Oe(ag(s));const a=new Zo(s.get(1),s.get(3)),c=new ue(s.popFirst(5));return a.isEqual(n)||dr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jg extends Ug{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ll(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(qh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ll extends jg{data(e={}){return super.data(e)}}class qw{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new $o(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ll(this._firestore,this._userDataWriter,s.key,s,new $o(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new Ll(a._firestore,a._userDataWriter,m.doc.key,m.doc,new $o(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Ll(a._firestore,a._userDataWriter,m.doc.key,m.doc,new $o(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,T=-1;return m.type!==0&&(E=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:Hw(m.type),doc:y,oldIndex:E,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hw(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class Bg extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function um(i,e){const n=Go(i.firestore,Wl),s=Rw(i),a=$w(i.converter,e);return Ww(n,[Dw(xg(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,hr.exists(!1))]).then(()=>s)}function Qw(i,...e){var n,s,a;i=Ci(i);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||om(e[f])||(c=e[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(om(e[f])){const C=e[f];e[f]=(n=C.next)===null||n===void 0?void 0:n.bind(C),e[f+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),e[f+2]=(a=C.complete)===null||a===void 0?void 0:a.bind(C)}let y,E,T;if(i instanceof rn)E=Go(i.firestore,Wl),T=Ih(i._key.path),y={next:C=>{e[f]&&e[f](Gw(E,i,C))},error:e[f+1],complete:e[f+2]};else{const C=Go(i,$s);E=Go(C.firestore,Wl),T=C._query;const U=new Bg(E);y={next:j=>{e[f]&&e[f](new qw(E,U,C,j))},error:e[f+1],complete:e[f+2]},Uw(i._query)}return function(U,j,Y,G){const $=new vw(G),de=new ew(j,$,Y);return U.asyncQueue.enqueueAndForget(async()=>XE(await em(U),de)),()=>{$.eu(),U.asyncQueue.enqueueAndForget(async()=>YE(await em(U),de))}}(Vg(E),T,m,y)}function Ww(i,e){return function(s,a){const c=new Ri;return s.asyncQueue.enqueueAndForget(async()=>cw(await Tw(s),a,c)),c.promise}(Vg(i),e)}function Gw(i,e,n){const s=n.docs.get(e._key),a=new Bg(i);return new jg(i,a,e._key,s,new $o(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){zs=a})(Tv),Fl(new Ko("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Wl(new Mv(s.getProvider("auth-internal")),new zv(s.getProvider("app-check-internal")),function(E,T){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new se(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(E.options.projectId,T)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),ks(Ep,"4.7.5",e),ks(Ep,"4.7.5","esm2017")})();var Kw="firebase",Xw="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(Kw,Xw,"app");const Yw={apiKey:"AIzaSyB4wiiL1XZ__Ak8-6fOHPd_6B6LD_h8-18",authDomain:"quiz-app-898b9.firebaseapp.com",databaseURL:"https://quiz-app-898b9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"quiz-app-898b9",storageBucket:"quiz-app-898b9.firebasestorage.app",messagingSenderId:"520315406850",appId:"1:520315406850:web:c47ec05c248a172fb0b51b"},Jw=_m(Yw),Zw=Cw(Jw);function e1(){const[i,e]=nt.useState([]),[n,s]=nt.useState([]),[a,c]=nt.useState(""),[f,m]=nt.useState(0),[y,E]=nt.useState([]),T=Aw(Zw,"users");nt.useEffect(()=>{const G=jw(T,Bw("room","==",i));Qw(G,$=>{console.log("new message");let de=[];$.forEach(ge=>{de.push({...ge.data(),id:ge.id})}),console.log("mew Message"),E(de)})},[]);const C=async()=>{await um(T,{room:i,name:a})},U=async()=>{await um(T,{room:n,name:a})},j=()=>{m(G=>{const $=G+1;return console.log($),$})},Y=G=>{const $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let de="";for(let ge=0;ge<G;ge++)de+=$.charAt(Math.floor(Math.random()*$.length));s(de)};return!i||n==""&&f==0?ae.jsxs("div",{className:"multiplayer",children:[ae.jsx("h2",{children:"Multiplayer"}),ae.jsx("button",{class:"btn-create btn",onClick:()=>Y(6),children:"Hämta kod"}),ae.jsxs("div",{className:"room",children:[ae.jsxs("div",{className:"room-input-cont",children:[ae.jsx("label",{htmlFor:"room-code",children:"skriv in Rumskod:"}),ae.jsx("input",{type:"text",onChange:G=>{e(G.target.value)}})]}),ae.jsxs("div",{className:"room-input-cont",children:[ae.jsx("label",{htmlFor:"name",children:"Username:"}),ae.jsx("input",{type:"text",onChange:G=>{c(G.target.value)}})]}),ae.jsx("button",{className:"btn-join btn",onClick:()=>{j(),C()},children:"Gå in i rum"})]})]}):!i||n!=null&&f==0?ae.jsxs("div",{className:"multiplayer",children:[ae.jsx("h2",{children:"Multiplayer"}),ae.jsxs("div",{className:"room-code-cont",children:[ae.jsxs("h3",{className:"room-code",children:["Rumskod: ",n]}),ae.jsx("button",{className:"btn-copy btn",onClick:()=>navigator.clipboard.writeText(n),children:"kopiera"})]}),ae.jsxs("div",{className:"room-input-cont",children:[ae.jsx("label",{htmlFor:"name",children:"Username:"}),ae.jsx("input",{type:"text",onChange:G=>{c(G.target.value)}})]}),ae.jsx("button",{className:"btn-join btn",onClick:()=>{j(),U()},children:"Gå in i rum"})]}):ae.jsxs("div",{className:"multiplayer",children:[ae.jsx("h2",{children:"let the game begin"}),ae.jsxs("h3",{children:["welcome to ",i,n]}),ae.jsxs("div",{className:"players-in-room",children:[" ",y.map(G=>ae.jsx("p",{children:G.name}))]})]})}function t1(){const{gameState:i,setGameState:e}=nt.useContext(cm);return ae.jsxs("div",{className:"menu",children:[ae.jsx("h2",{children:"MAIN MENU"}),ae.jsx("button",{class:"btn-start btn",onClick:()=>{e("quiz")},children:"Starta Quiz"}),ae.jsx("button",{class:"btn-multi btn",onClick:()=>{e("multiplayer")},children:"Skapa rum"})]})}function n1(){return ae.jsx("div",{children:ae.jsx("h1",{children:"ENDSCREEN"})})}function r1(){const[i,e]=nt.useState("menu");return ae.jsxs("div",{className:"screen",children:[ae.jsx("h1",{children:"BEAT THE CHASER"}),ae.jsx("div",{class:"homescreen",children:ae.jsxs(cm.Provider,{value:{gameState:i,setGameState:e},children:[i==="menu"&&ae.jsx(t1,{}),i==="multiplayer"&&ae.jsx(e1,{}),i==="quiz"&&ae.jsx(n_,{}),i==="endScreen"&&ae.jsx(n1,{})]})})]})}Zy.createRoot(document.getElementById("root")).render(ae.jsx(r1,{}));
